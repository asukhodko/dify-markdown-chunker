{
  "code_heavy/quickstart.md": {
    "input_size": 6144,
    "input_lines": 270,
    "chunk_count": 10,
    "chunks": [
      {
        "content": "# ðŸš€ Quick Start\n\nGet started with Dify Markdown Chunker in 5 minutes.",
        "start_line": 1,
        "end_line": 1,
        "size": 69,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“¦ Installation\n\n### As Dify Plugin\n\n- Download the plugin package (`.difypkg` file)\n- In Dify UI: Settings â†’ Plugins â†’ Install Plugin\n- Upload the `.difypkg` file\n- Configure the plugin in your workflows\n\nDownload the plugin package (`.difypkg` file)\n\nIn Dify UI: Settings â†’ Plugins â†’ Install Plugin\n\nUpload the `.difypkg` file\n\nConfigure the plugin in your workflows\n\n### For Development\n\n```bash\n# Clone the repository\ngit clone <repository-url>\ncd dify-markdown-chunker\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# or\nvenv\\Scripts\\activate     # Windows\n\n# Install dependencies\npip install -r requirements.txt\n\n# Run tests\nmake test\n```",
        "start_line": 5,
        "end_line": 5,
        "size": 687,
        "strategy": "structural"
      },
      {
        "content": "- Download the plugin package (`.difypkg` file)\n- In Dify UI: Settings â†’ Plugins â†’ Install Plugin\n- Upload the `.difypkg` file\n- Configure the plugin in your workflows\n\nDownload the plugin package (`.difypkg` file)\n\nIn Dify UI: Settings â†’ Plugins â†’ Install Plugin\n\nUpload the `.difypkg` file\n\nConfigure the plugin in your workflows\n\n## ðŸŽ¯ Basic Usage\n\n### Using in Dify Workflows\n\n```yaml\n# In Dify workflow configuration\n- tool: markdown_chunker\n  config:\n    max_chunk_size: 2048\n    strategy: auto\n```\n\n### Using as Python Library\n\n```python\nfrom markdown_chunker import MarkdownChunker, ChunkConfig\n\n# Basic usage\nchunker = MarkdownChunker()\nresult = chunker.chunk(\"# Hello\\n\\nWorld\", include_analysis=True)\n\nprint(f\"Strategy: {result.strategy_used}\")\nprint(f\"Chunks: {len(result.chunks)}\")\nfor i, chunk in enumerate(result.chunks, 1):\n    print(f\"Chunk {i}: {chunk.size} chars, lines {chunk.start_line}-{chunk.end_line}\")\n```\n\n### With Custom Configuration\n\n```python\nfrom markdown_chunker import MarkdownChunker, ChunkConfig\n\n# Custom configuration\nconfig = ChunkConfig(\n    max_chunk_size=2048,\n    min_chunk_size=256,\n    enable_overlap=True,\n    overlap_size=100\n)\n\nchunker = MarkdownChunker(config)\nresult = chunker.chunk(markdown_text, include_analysis=True)\n\n# Access analysis\nprint(f\"Content type: {result.analysis.content_type}\")\nprint(f\"Code ratio: {result.analysis.code_ratio:.2%}\")\nprint(f\"Complexity: {result.analysis.complexity_score:.2f}\")\n```\n\n### Using Configuration Profiles\n\n```python\nfrom markdown_chunker import ChunkConfig\n\n# For API documentation\nconfig = ChunkConfig.for_api_docs()\n\n# For code documentation\nconfig = ChunkConfig.for_code_docs()\n\n# For RAG systems (Dify default)\nconfig = ChunkConfig.for_dify_rag()\n\n# For search indexing\nconfig = ChunkConfig.for_search_indexing()\n```",
        "start_line": 34,
        "end_line": 34,
        "size": 1812,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“ Example: Processing a Document\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\nmarkdown_text = \"\"\"\n# API Documentation\n\n## Introduction\n\nThis is example documentation with code:\n\n```python\ndef hello_world():\n    print(\"Hello, World!\")\n    return \"success\"\n```\n\n### Features\n\n- Multiple language support\n- Automatic content type detection\n- Metadata extraction\n\nMultiple language support\n\nAutomatic content type detection\n\nMetadata extraction\n\n| Parameter | Type | Description |\n|-----------|------|-------------|\n| name | str | Function name |\n| result | any | Execution result |\n\"\"\"",
        "start_line": 101,
        "end_line": 101,
        "size": 597,
        "strategy": "structural"
      },
      {
        "content": "- Metadata extraction\n\nMultiple language support\n\nAutomatic content type detection\n\nMetadata extraction\n\n\"\"\"\n\n# Process document\n\nchunker = MarkdownChunker()\nresult = chunker.chunk(markdown_text, include_analysis=True)",
        "start_line": 131,
        "end_line": 131,
        "size": 218,
        "strategy": "structural"
      },
      {
        "content": "# Print results\n\nprint(f\"ðŸ“„ Processed document: {result.analysis.total_chars} chars\")\nprint(f\"ðŸ” Found elements:\")\nprint(f\"  - Headers: {result.analysis.header_count}\")\nprint(f\"  - Code blocks: {result.analysis.code_block_count}\")\nprint(f\"  - Lists: {result.analysis.list_count}\")\nprint(f\"  - Tables: {result.analysis.table_count}\")\nprint(f\"ðŸ“Š Content type: {result.analysis.content_type}\")\nprint(f\"âš¡ Strategy used: {result.strategy_used}\")\nprint(f\"ðŸ“¦ Created {len(result.chunks)} chunks\")\n\n```\n\n## ðŸ”§ Advanced Usage\n\n### Using Parser Interface\n\n```python\nfrom markdown_chunker import ParserInterface\n\n# Parse markdown\nparser = ParserInterface()\nanalysis = parser.analyze(\"# Hello\\n\\n```python\\nprint('world')\\n```\")\n\nprint(f\"Content type: {analysis.content_type}\")\nprint(f\"Code ratio: {analysis.code_ratio:.2%}\")\nprint(f\"Complexity: {analysis.complexity_score:.2f}\")\n```\n\n### Extracting Preamble\n\n```python\nfrom markdown_chunker import extract_preamble\n\nmarkdown_with_frontmatter = \"\"\"---\ntitle: My Document\nauthor: John Doe\n---\n\n# Content starts here\n\"\"\"\n\npreamble = extract_preamble(markdown_with_frontmatter)\nif preamble:\n    print(f\"Preamble type: {preamble.type}\")\n    print(f\"Preamble content: {preamble.content}\")\n    print(f\"Remaining text: {preamble.remaining_text[:50]}...\")\n```\n\n### Convenience Functions\n\n```python\nfrom markdown_chunker import chunk_text, chunk_file\n\n# Chunk text directly\nchunks = chunk_text(\"# Hello\\n\\nWorld\")\n\n# Chunk from file\nchunks = chunk_file(\"README.md\")\n\n# With custom config\nfrom markdown_chunker import ChunkConfig\nconfig = ChunkConfig.for_code_docs()\nchunks = chunk_file(\"docs/api.md\", config)\n```",
        "start_line": 135,
        "end_line": 135,
        "size": 1636,
        "strategy": "structural"
      },
      {
        "content": "parser = ParserInterface()\nanalysis = parser.analyze(\"# Hello\\n\\n```python\\nprint('world')\\n```\")\n\nprint(f\"Content type: {analysis.content_type}\")\nprint(f\"Code ratio: {analysis.code_ratio:.2%}\")\nprint(f\"Complexity: {analysis.complexity_score:.2f}\")\n```\n\n## ðŸŽ¨ Chunking Strategies\n\nThe chunker automatically selects the best strategy based on content analysis:\n\n- Code Strategy: For code-heavy documents (>30% code)\n- Mixed Strategy: For balanced content (code + text)\n- List Strategy: For list-heavy documents\n- Table Strategy: For table-heavy documents\n- Structural Strategy: For well-structured documents with headers\n- Sentences Strategy: Fallback for simple text\n\nCode Strategy: For code-heavy documents (>30% code)\n\nMixed Strategy: For balanced content (code + text)\n\nList Strategy: For list-heavy documents\n\nTable Strategy: For table-heavy documents\n\nStructural Strategy: For well-structured documents with headers\n\nSentences Strategy: Fallback for simple text\n\nYou can also force a specific strategy:\n\n```python\nconfig = ChunkConfig(force_strategy=\"code\")\nchunker = MarkdownChunker(config)\n```",
        "start_line": 200,
        "end_line": 200,
        "size": 1099,
        "strategy": "structural"
      },
      {
        "content": "Strategy: For table-heavy documents\n\nStructural Strategy: For well-structured documents with headers\n\nSentences Strategy: Fallback for simple text\n\nYou can also force a specific strategy:\n\n## ðŸ§ª Testing Your Setup\n\n```bash\n# Run all tests\nmake test\n\n# Run with verbose output\nmake test-verbose\n\n# Run with coverage\nmake test-coverage\n\n# Run quick tests only\nmake test-quick\n```",
        "start_line": 218,
        "end_line": 218,
        "size": 376,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“š Next Steps\n\n- Read the  for detailed examples\n- Check the  for complete API documentation\n- Learn about\n- See  for all options\n- Review  for workflow setup\n\n[Usage Guide](usage.md)\n\n[API Reference](api/README.md)\n\n[Chunking Strategies](architecture/strategies.md)\n\n[Configuration Reference](reference/configuration.md)\n\n[Dify Integration](architecture/dify-integration.md)",
        "start_line": 234,
        "end_line": 234,
        "size": 377,
        "strategy": "structural"
      },
      {
        "content": "[API Reference](api/README.md)\n\n[Chunking Strategies](architecture/strategies.md)\n\n[Configuration Reference](reference/configuration.md)\n\n[Dify Integration](architecture/dify-integration.md)\n\n## ðŸ†˜ Troubleshooting\n\n### Import Errors\n\n```python\n# âŒ Wrong\nfrom stage1 import process_markdown\n\n# âœ… Correct\nfrom markdown_chunker import MarkdownChunker\n```\n\n### Configuration Issues\n\n```python\n# Make sure to use ChunkConfig\nfrom markdown_chunker import ChunkConfig\n\nconfig = ChunkConfig(max_chunk_size=2048)\n```\n\n### Common Issues\n\n- \"Module not found\": Make sure you installed dependencies: `pip install -r requirements.txt`\n- \"Tests failing\": Activate virtual environment: `source venv/bin/activate`\n- \"Import errors\": Use correct imports from `markdown_chunker` package\n\n\"Module not found\": Make sure you installed dependencies: `pip install -r requirements.txt`\n\n\"Tests failing\": Activate virtual environment: `source venv/bin/activate`\n\n\"Import errors\": Use correct imports from `markdown_chunker` package\n\n[Troubleshooting Guide](guides/troubleshooting.md)",
        "start_line": 242,
        "end_line": 242,
        "size": 1057,
        "strategy": "structural"
      }
    ],
    "total_output_size": 7928
  },
  "code_heavy/usage.md": {
    "input_size": 5146,
    "input_lines": 236,
    "chunk_count": 8,
    "chunks": [
      {
        "content": "# Usage Guide\n\nComprehensive guide for using Dify Markdown Chunker in different scenarios.",
        "start_line": 1,
        "end_line": 1,
        "size": 90,
        "strategy": "structural"
      },
      {
        "content": "## ðŸŽ¯ Using in Dify Workflows\n\n### Basic Workflow Setup\n\n- Create or open a workflow in Dify\n- Add a \"Tool\" node\n- Select \"Advanced Markdown Chunker\"\n- Configure parameters:\n- max_chunk_size: 2048 (recommended for RAG)\n- strategy: auto (automatic selection)\n- enable_overlap: false\n\nCreate or open a workflow in Dify\n\nAdd a \"Tool\" node\n\nSelect \"Advanced Markdown Chunker\"\n\nConfigure parameters:\n\n- max_chunk_size: 2048 (recommended for RAG)\n- strategy: auto (automatic selection)\n- enable_overlap: false\n\nmax_chunk_size: 2048 (recommended for RAG)\n\nstrategy: auto (automatic selection)\n\nenable_overlap: false\n\n### Example Workflow\n\n```yaml\nworkflow:\n  - node: document_loader\n    type: document_loader\n    config:\n      source: file_upload\n  \n  - node: markdown_chunker\n    type: tool\n    tool: advanced_markdown_chunker\n    config:\n      max_chunk_size: 2048\n      strategy: auto\n      enable_overlap: true\n      overlap_size: 100\n  \n  - node: embedding\n    type: embedding\n    input: ${markdown_chunker.output}\n```",
        "start_line": 5,
        "end_line": 5,
        "size": 1015,
        "strategy": "structural"
      },
      {
        "content": "- max_chunk_size: 2048 (recommended for RAG)\n- strategy: auto (automatic selection)\n- enable_overlap: false\n\nmax_chunk_size: 2048 (recommended for RAG)\n\nstrategy: auto (automatic selection)\n\nenable_overlap: false\n\n## ðŸ Using as Python Library\n\n### Basic Usage\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\n# Create chunker\nchunker = MarkdownChunker()\n\n# Chunk markdown\nresult = chunker.chunk(\"# Hello\\n\\nWorld\", include_analysis=True)\n\n# Access chunks\nfor chunk in result.chunks:\n    print(f\"Chunk: {chunk.content[:50]}...\")\n    print(f\"Lines: {chunk.start_line}-{chunk.end_line}\")\n    print(f\"Size: {chunk.size} chars\")\n```\n\n### With Configuration\n\n```python\nfrom markdown_chunker import MarkdownChunker, ChunkConfig\n\n# Create custom config\nconfig = ChunkConfig(\n    max_chunk_size=2048,\n    min_chunk_size=256,\n    enable_overlap=True,\n    overlap_size=100\n)\n\n# Use config\nchunker = MarkdownChunker(config)\nresult = chunker.chunk(markdown_text, include_analysis=True)\n```\n\n### Configuration Profiles\n\n```python\nfrom markdown_chunker import ChunkConfig\n\n# For API documentation\nconfig = ChunkConfig.for_api_docs()\n\n# For code documentation\nconfig = ChunkConfig.for_code_docs()\n\n# For RAG systems (Dify default)\nconfig = ChunkConfig.for_dify_rag()\n\n# For search indexing\nconfig = ChunkConfig.for_search_indexing()\n```",
        "start_line": 40,
        "end_line": 40,
        "size": 1328,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“š Common Use Cases\n\n### Use Case 1: RAG System\n\n```python\nfrom markdown_chunker import MarkdownChunker, ChunkConfig\n\n# Configure for RAG\nconfig = ChunkConfig.for_dify_rag()\nchunker = MarkdownChunker(config)\n\n# Process documentation\nwith open(\"docs/api.md\") as f:\n    markdown = f.read()\n\nresult = chunker.chunk(markdown, include_analysis=True)\n\n# Store chunks in vector database\nfor chunk in result.chunks:\n    vector_db.add(\n        content=chunk.content,\n        metadata={\n            \"start_line\": chunk.start_line,\n            \"end_line\": chunk.end_line,\n            \"strategy\": chunk.strategy\n        }\n    )\n```\n\n### Use Case 2: Code Documentation\n\n```python\nfrom markdown_chunker import ChunkConfig\n\n# Configure for code-heavy docs\nconfig = ChunkConfig.for_code_docs()\nchunker = MarkdownChunker(config)\n\n# Process code documentation\nresult = chunker.chunk(code_docs, include_analysis=True)\n\n# Code blocks are preserved\nprint(f\"Strategy used: {result.strategy_used}\")\nprint(f\"Code ratio: {result.analysis.code_ratio:.2%}\")\n```\n\n### Use Case 3: API Reference\n\n```python\n# Configure for API docs\nconfig = ChunkConfig.for_api_docs()\nchunker = MarkdownChunker(config)\n\n# Process API documentation\nresult = chunker.chunk(api_docs, include_analysis=True)\n\n# Sections are preserved\nfor chunk in result.chunks:\n    if chunk.metadata.get(\"has_header\"):\n        print(f\"Section: {chunk.metadata['header_text']}\")\n```",
        "start_line": 96,
        "end_line": 96,
        "size": 1416,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ”§ Advanced Features\n\n### Content Analysis\n\n```python\nresult = chunker.chunk(markdown, include_analysis=True)\n\n# Access analysis\nanalysis = result.analysis\nprint(f\"Content type: {analysis.content_type}\")\nprint(f\"Code ratio: {analysis.code_ratio:.2%}\")\nprint(f\"Complexity: {analysis.complexity_score:.2f}\")\nprint(f\"Header count: {analysis.header_count}\")\nprint(f\"Code block count: {analysis.code_block_count}\")\n```\n\n### Preamble Extraction\n\n```python\nfrom markdown_chunker import extract_preamble\n\nmarkdown_with_frontmatter = \"\"\"---\ntitle: My Document\nauthor: John Doe\n---\n\n# Content\n\"\"\"\n\npreamble = extract_preamble(markdown_with_frontmatter)\nif preamble:\n    print(f\"Type: {preamble.type}\")\n    print(f\"Content: {preamble.content}\")\n```\n\n### Convenience Functions\n\n```python\nfrom markdown_chunker import chunk_text, chunk_file\n\n# Chunk text directly\nchunks = chunk_text(\"# Hello\\n\\nWorld\")\n\n# Chunk from file\nchunks = chunk_file(\"README.md\")\n\n# With config\nconfig = ChunkConfig.for_code_docs()\nchunks = chunk_file(\"docs/api.md\", config)\n```",
        "start_line": 158,
        "end_line": 158,
        "size": 1043,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“Š Strategy Selection\n\nThe chunker automatically selects the best strategy:\n\n- Code Strategy: >30% code content\n- Mixed Strategy: Balanced code and text\n- List Strategy: >40% list content\n- Table Strategy: >30% table content\n- Structural Strategy: Well-structured with headers\n- Sentences Strategy: Simple text fallback\n\nCode Strategy: >30% code content\n\nMixed Strategy: Balanced code and text\n\nList Strategy: >40% list content\n\nTable Strategy: >30% table content\n\nStructural Strategy: Well-structured with headers\n\nSentences Strategy: Simple text fallback\n\nForce a specific strategy:\n\n```python\nconfig = ChunkConfig(force_strategy=\"code\")\nchunker = MarkdownChunker(config)\n```",
        "start_line": 209,
        "end_line": 209,
        "size": 679,
        "strategy": "structural"
      },
      {
        "content": "Sentences Strategy: Simple text fallback\n\nForce a specific strategy:\n\n## ðŸ†˜ Troubleshooting\n\n[Troubleshooting Guide](guides/troubleshooting.md)",
        "start_line": 227,
        "end_line": 227,
        "size": 142,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“š Next Steps\n\n- Review\n- Learn about\n- Check\n\n[API Reference](api/README.md)\n\n[Chunking Strategies](architecture/strategies.md)\n\n[Configuration Options](reference/configuration.md)",
        "start_line": 231,
        "end_line": 231,
        "size": 183,
        "strategy": "structural"
      }
    ],
    "total_output_size": 5896
  },
  "edge_cases/large_tables.md": {
    "input_size": 1851,
    "input_lines": 43,
    "chunk_count": 4,
    "chunks": [
      {
        "content": "# Large Tables Test\n\nThis document contains large tables that may exceed chunk size limits.",
        "start_line": 1,
        "end_line": 1,
        "size": 91,
        "strategy": "structural"
      },
      {
        "content": "## Table 1: Wide Table\n\n| Column 1 | Column 2 | Column 3 | Column 4 | Column 5 | Column 6 | Column 7 | Column 8 |\n|----------|----------|----------|----------|----------|----------|----------|----------|\n| Data 1-1 | Data 1-2 | Data 1-3 | Data 1-4 | Data 1-5 | Data 1-6 | Data 1-7 | Data 1-8 |\n| Data 2-1 | Data 2-2 | Data 2-3 | Data 2-4 | Data 2-5 | Data 2-6 | Data 2-7 | Data 2-8 |\n| Data 3-1 | Data 3-2 | Data 3-3 | Data 3-4 | Data 3-5 | Data 3-6 | Data 3-7 | Data 3-8 |\n| Data 4-1 | Data 4-2 | Data 4-3 | Data 4-4 | Data 4-5 | Data 4-6 | Data 4-7 | Data 4-8 |\n| Data 5-1 | Data 5-2 | Data 5-3 | Data 5-4 | Data 5-5 | Data 5-6 | Data 5-7 | Data 5-8 |",
        "start_line": 5,
        "end_line": 5,
        "size": 653,
        "strategy": "structural"
      },
      {
        "content": "## Table 2: Long Table\n\n| ID | Name | Description |\n|----|------|-------------|\n| 1 | Item One | First item description |\n| 2 | Item Two | Second item description |\n| 3 | Item Three | Third item description |\n| 4 | Item Four | Fourth item description |\n| 5 | Item Five | Fifth item description |\n| 6 | Item Six | Sixth item description |\n| 7 | Item Seven | Seventh item description |\n| 8 | Item Eight | Eighth item description |\n| 9 | Item Nine | Ninth item description |\n| 10 | Item Ten | Tenth item description |\n| 11 | Item Eleven | Eleventh item description |\n| 12 | Item Twelve | Twelfth item description |\n| 13 | Item Thirteen | Thirteenth item description |\n| 14 | Item Fourteen | Fourteenth item description |\n| 15 | Item Fifteen | Fifteenth item description |\n| 16 | Item Sixteen | Sixteenth item description |\n| 17 | Item Seventeen | Seventeenth item description |\n| 18 | Item Eighteen | Eighteenth item description |\n| 19 | Item Nineteen | Nineteenth item description |\n| 20 | Item Twenty | Twentieth item description |",
        "start_line": 15,
        "end_line": 15,
        "size": 1030,
        "strategy": "structural"
      },
      {
        "content": "## After Tables\n\nSome text after the tables to verify proper chunking.",
        "start_line": 40,
        "end_line": 40,
        "size": 70,
        "strategy": "structural"
      }
    ],
    "total_output_size": 1844
  },
  "edge_cases/mixed_line_endings.md": {
    "input_size": 220,
    "input_lines": 19,
    "chunk_count": 3,
    "chunks": [
      {
        "content": "# Mixed Line Endings Test\n\nThis document has Windows line endings (CRLF).",
        "start_line": 1,
        "end_line": 1,
        "size": 73,
        "strategy": "structural"
      },
      {
        "content": "## Section 1\n\nSome text with Windows line endings.",
        "start_line": 5,
        "end_line": 5,
        "size": 50,
        "strategy": "structural"
      },
      {
        "content": "## Section 2\n\nMore text here.\n\n```python\ndef test():\n    return \"code\"\n```\n\nEnd of document.",
        "start_line": 9,
        "end_line": 9,
        "size": 92,
        "strategy": "structural"
      }
    ],
    "total_output_size": 215
  },
  "edge_cases/nested_code_blocks.md": {
    "input_size": 567,
    "input_lines": 43,
    "chunk_count": 4,
    "chunks": [
      {
        "content": "# Nested Code Blocks Test\n\nThis document tests nested code blocks with 4+ backticks.",
        "start_line": 1,
        "end_line": 1,
        "size": 84,
        "strategy": "structural"
      },
      {
        "content": "## Example 1: Markdown in Markdown\n\n```markdown\nHere's how to write a code block:\n\n````python\ndef hello():\n    print(\"Hello\")\n````\n\nAnd here's another:\n\n```bash\necho \"test\"\n```\n```",
        "start_line": 5,
        "end_line": 5,
        "size": 180,
        "strategy": "structural"
      },
      {
        "content": "def hello():\n    print(\"Hello\")\n````\n\nAnd here's another:\n\n## Example 2: Simple Nesting\n\n```python\n# This is a code block\ndef example():\n    \"\"\"\n    ```\n    This looks like a code block but it's in a docstring\n    ```\n    \"\"\"\n    pass\n```",
        "start_line": 22,
        "end_line": 22,
        "size": 238,
        "strategy": "structural"
      },
      {
        "content": "This looks like a code block but it's in a docstring\n    ```\n    \"\"\"\n    pass\n```\n\n## Regular Code Block\n\n```python\ndef regular():\n    return \"This is a regular code block\"\n```\n\nEnd of document.",
        "start_line": 35,
        "end_line": 35,
        "size": 194,
        "strategy": "structural"
      }
    ],
    "total_output_size": 696
  },
  "mixed/changelog.md": {
    "input_size": 6418,
    "input_lines": 156,
    "chunk_count": 12,
    "chunks": [
      {
        "content": "# Changelog\n\nAll notable changes to the Advanced Markdown Chunker plugin will be documented in this file.",
        "start_line": 1,
        "end_line": 1,
        "size": 105,
        "strategy": "structural"
      },
      {
        "content": "## [2.0.0-a3] - 2024-12-03\n\n### Added\n\n- Regression and duplication validation to improve chunking reliability\n- Comprehensive API reference documentation\n- Block-based chunking implementation for markdown content\n- Documentation for block overlap management system\n- Type annotations for variable declarations\n\nRegression and duplication validation to improve chunking reliability\n\nComprehensive API reference documentation\n\nBlock-based chunking implementation for markdown content\n\nDocumentation for block overlap management system\n\nType annotations for variable declarations\n\n### Changed\n\n- Redesigned chunk overlap with explicit neighbor context model\n- Overlap model now uses `previous_content` and `next_content` for metadata-based handling\n- Improved overlap content extraction to include paragraphs, not just headers\n- Documentation structure reorganized and updated\n- API reference documentation reformatted and updated\n\nRedesigned chunk overlap with explicit neighbor context model\n\nOverlap model now uses `previous_content` and `next_content` for metadata-based handling\n\nImproved overlap content extraction to include paragraphs, not just headers\n\nDocumentation structure reorganized and updated\n\nAPI reference documentation reformatted and updated\n\n### Fixed\n\n- Improved strategy selection and content validation\n- Enhanced packaging script and updated plugin version\n- Overlap handling now properly manages neighbor context\n\nImproved strategy selection and content validation\n\nEnhanced packaging script and updated plugin version\n\nOverlap handling now properly manages neighbor context\n\n### Refactor\n\n- Renamed error collector classes for clarity in parser module\n- Removed block-based chunking implementation reference\n- Redesigned overlap handling with metadata-based mode\n\nRenamed error collector classes for clarity in parser module\n\nRemoved block-based chunking implementation reference\n\nRedesigned overlap handling with metadata-based mode\n\n### Documentation\n\n- Added detailed documentation for block overlap management system\n- Updated overlap manager documentation for metadata-based mode\n- Comprehensive documentation and configuration files updated\n- API reference documentation completely revised\n- Development guide translated to English\n\nAdded detailed documentation for block overlap management system\n\nUpdated overlap manager documentation for metadata-based mode\n\nComprehensive documentation and configuration files updated\n\nAPI reference documentation completely revised\n\nDevelopment guide translated to English",
        "start_line": 5,
        "end_line": 5,
        "size": 2542,
        "strategy": "structural"
      },
      {
        "content": "Updated overlap manager documentation for metadata-based mode\n\nComprehensive documentation and configuration files updated\n\nAPI reference documentation completely revised\n\nDevelopment guide translated to English\n\n## [2.0.0-a0-3] - 2025-11-23\n\n### Changed\n\n- Optimization: Filtered metadata to include only RAG-useful fields\n- Removed statistical fields (avg_line_length, char_count, word_count, etc.)\n- Removed count fields (item_count, nested_item_count, etc.)\n- Removed internal execution fields (execution_fallback_level, strategy, etc.)\n- Kept semantic fields useful for retrieval (content_type, has_code, has_urls, etc.)\n- Boolean fields optimization: `is_*` and `has_*` fields now included only when `true`\n- Reduced metadata size by ~70% while keeping search-relevant information\n\nOptimization: Filtered metadata to include only RAG-useful fields\n\n- Removed statistical fields (avg_line_length, char_count, word_count, etc.)\n- Removed count fields (item_count, nested_item_count, etc.)\n- Removed internal execution fields (execution_fallback_level, strategy, etc.)\n- Kept semantic fields useful for retrieval (content_type, has_code, has_urls, etc.)\n- Boolean fields optimization: `is_*` and `has_*` fields now included only when `true`\n- Reduced metadata size by ~70% while keeping search-relevant information\n\nRemoved statistical fields (avg_line_length, char_count, word_count, etc.)\n\nRemoved count fields (item_count, nested_item_count, etc.)\n\nRemoved internal execution fields (execution_fallback_level, strategy, etc.)\n\nKept semantic fields useful for retrieval (content_type, has_code, has_urls, etc.)\n\nBoolean fields optimization: `is_*` and `has_*` fields now included only when `true`\n\nReduced metadata size by ~70% while keeping search-relevant information\n\n### Added\n\n- Tests: Added 9 unit tests for metadata filtering (`test_metadata_filtering.py`)\n- Tests for statistical field exclusion\n- Tests for boolean field optimization (only true values)\n- Tests for semantic field preservation\n- Tests for preamble handling\n- Realistic example test with actual metadata structure\n\nTests: Added 9 unit tests for metadata filtering (`test_metadata_filtering.py`)\n\n- Tests for statistical field exclusion\n- Tests for boolean field optimization (only true values)\n- Tests for semantic field preservation\n- Tests for preamble handling\n- Realistic example test with actual metadata structure\n\nTests for statistical field exclusion\n\nTests for boolean field optimization (only true values)\n\nTests for semantic field preservation\n\nTests for preamble handling\n\nRealistic example test with actual metadata structure",
        "start_line": 38,
        "end_line": 38,
        "size": 2617,
        "strategy": "structural"
      },
      {
        "content": "Tests for statistical field exclusion\n\nTests for boolean field optimization (only true values)\n\nTests for semantic field preservation\n\nTests for preamble handling\n\nRealistic example test with actual metadata structure\n\n## [2.0.0-a0-2] - 2025-11-23\n\n### Fixed\n\n- Critical: Fixed UI crash in Dify knowledge pipeline\n- Changed output format from array of objects to array of strings\n- Metadata now embedded in string format: `<metadata>\\n{json}\\n</metadata>\\n{content}`\n- Compatible with Dify UI expectations for knowledge pipeline\n- Prevents React error #31 (objects not valid as React child)\n\nCritical: Fixed UI crash in Dify knowledge pipeline\n\n- Changed output format from array of objects to array of strings\n- Metadata now embedded in string format: `<metadata>\\n{json}\\n</metadata>\\n{content}`\n- Compatible with Dify UI expectations for knowledge pipeline\n- Prevents React error #31 (objects not valid as React child)\n\nChanged output format from array of objects to array of strings\n\nMetadata now embedded in string format: `<metadata>\\n{json}\\n</metadata>\\n{content}`\n\nCompatible with Dify UI expectations for knowledge pipeline\n\nPrevents React error #31 (objects not valid as React child)",
        "start_line": 57,
        "end_line": 57,
        "size": 1194,
        "strategy": "structural"
      },
      {
        "content": "Metadata now embedded in string format: `<metadata>\\n{json}\\n</metadata>\\n{content}`\n\nCompatible with Dify UI expectations for knowledge pipeline\n\nPrevents React error #31 (objects not valid as React child)\n\n## [2.0.0-a0-1] - 2025-11-23\n\n### Fixed\n\n- Critical: Fixed runtime error in tool implementation\n- Changed `chunk_overlap` parameter to `overlap_size` in ChunkConfig initialization\n- Removed non-existent parameters `strategy_override` and `include_metadata` from ChunkConfig\n- Fixed strategy and metadata handling to use chunk() method parameters instead\n- Tool now correctly processes documents without errors\n\nCritical: Fixed runtime error in tool implementation\n\n- Changed `chunk_overlap` parameter to `overlap_size` in ChunkConfig initialization\n- Removed non-existent parameters `strategy_override` and `include_metadata` from ChunkConfig\n- Fixed strategy and metadata handling to use chunk() method parameters instead\n- Tool now correctly processes documents without errors\n\nChanged `chunk_overlap` parameter to `overlap_size` in ChunkConfig initialization\n\nRemoved non-existent parameters `strategy_override` and `include_metadata` from ChunkConfig\n\nFixed strategy and metadata handling to use chunk() method parameters instead\n\nTool now correctly processes documents without errors",
        "start_line": 66,
        "end_line": 66,
        "size": 1296,
        "strategy": "structural"
      },
      {
        "content": "Removed non-existent parameters `strategy_override` and `include_metadata` from ChunkConfig\n\nFixed strategy and metadata handling to use chunk() method parameters instead\n\nTool now correctly processes documents without errors\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Fixed\n\n- Critical: Fixed icon path in manifest.yaml causing import errors\n- Changed `icon: _assets/icon.svg` to `icon: icon.svg` in all YAML files\n- This aligns with Dify's convention where icons are automatically resolved from `_assets/` directory\n- Verified against official Dify plugins\n- Critical: Fixed tags validation\n- Changed from custom tags (`rag`, `chunking`, `markdown`, `knowledge-base`) to standard tags (`productivity`, `business`)\n- CLI validates tags against standard list\n- Build: Fixed packaging to use official dify-plugin CLI\n- Replaced manual packaging script with official CLI\n- Created `.difyignore` to exclude `venv/`, tests, and development files from package\n- Package now passes all CLI validations\n\nCritical: Fixed icon path in manifest.yaml causing import errors\n\n- Changed `icon: _assets/icon.svg` to `icon: icon.svg` in all YAML files\n- This aligns with Dify's convention where icons are automatically resolved from `_assets/` directory\n- Verified against official Dify plugins\n\nChanged `icon: _assets/icon.svg` to `icon: icon.svg` in all YAML files\n\nThis aligns with Dify's convention where icons are automatically resolved from `_assets/` directory\n\nVerified against official Dify plugins\n\nCritical: Fixed tags validation\n\n- Changed from custom tags (`rag`, `chunking`, `markdown`, `knowledge-base`) to standard tags (`productivity`, `business`)\n- CLI validates tags against standard list\n\nChanged from custom tags (`rag`, `chunking`, `markdown`, `knowledge-base`) to standard tags (`productivity`, `business`)\n\nCLI validates tags against standard list\n\nBuild: Fixed packaging to use official dify-plugin CLI\n\n- Replaced manual packaging script with official CLI\n- Created `.difyignore` to exclude `venv/`, tests, and development files from package\n- Package now passes all CLI validations\n\nReplaced manual packaging script with official CLI\n\nCreated `.difyignore` to exclude `venv/`, tests, and development files from package\n\nPackage now passes all CLI validations",
        "start_line": 77,
        "end_line": 89,
        "size": 2261,
        "strategy": "structural"
      },
      {
        "content": "- Replaced manual packaging script with official CLI\n- Created `.difyignore` to exclude `venv/`, tests, and development files from package\n- Package now passes all CLI validations\n\nReplaced manual packaging script with official CLI\n\nCreated `.difyignore` to exclude `venv/`, tests, and development files from package\n\nPackage now passes all CLI validations\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Changed\n\n- Updated `make package` to use official dify-plugin CLI\n- Updated tests to match new icon path and tag requirements\n- Cleaned up temporary documentation files\n- Consolidated documentation into core files\n\nUpdated `make package` to use official dify-plugin CLI\n\nUpdated tests to match new icon path and tag requirements\n\nCleaned up temporary documentation files\n\nConsolidated documentation into core files\n\nUpdated `make package` to use official dify-plugin CLI\n\nUpdated tests to match new icon path and tag requirements\n\nCleaned up temporary documentation files\n\nConsolidated documentation into core files\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Package\n\n- Format: `dify-markdown-chunker-official-YYYYMMDD_HHMMSS.difypkg`\n- Size: 136 KB (compressed), ~550 KB (uncompressed)\n- Files: 52 files (core functionality + essential docs)\n- Status: âœ… Production ready - UI compatible\n\nFormat: `dify-markdown-chunker-official-YYYYMMDD_HHMMSS.difypkg`\n\nSize: 136 KB (compressed), ~550 KB (uncompressed)\n\nFiles: 52 files (core functionality + essential docs)\n\nStatus: âœ… Production ready - UI compatible",
        "start_line": 90,
        "end_line": 101,
        "size": 1487,
        "strategy": "structural"
      },
      {
        "content": "Format: `dify-markdown-chunker-official-YYYYMMDD_HHMMSS.difypkg`\n\nSize: 136 KB (compressed), ~550 KB (uncompressed)\n\nFiles: 52 files (core functionality + essential docs)\n\nStatus: âœ… Production ready - UI compatible\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Documentation\n\n- Added `DEVELOPMENT.md` - comprehensive development guide\n- Updated `README.md` - streamlined with references to other docs\n- Updated `INSTALLATION.md` - installation instructions\n- Updated `TROUBLESHOOTING.md` - common issues and solutions\n- Updated `PACKAGING.md` - packaging instructions\n\nAdded `DEVELOPMENT.md` - comprehensive development guide\n\nUpdated `README.md` - streamlined with references to other docs\n\nUpdated `INSTALLATION.md` - installation instructions\n\nUpdated `TROUBLESHOOTING.md` - common issues and solutions\n\nUpdated `PACKAGING.md` - packaging instructions\n\nUpdated `README.md` - streamlined with references to other docs\n\nUpdated `INSTALLATION.md` - installation instructions\n\nUpdated `TROUBLESHOOTING.md` - common issues and solutions\n\nUpdated `PACKAGING.md` - packaging instructions\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Technical Details\n\n- Analyzed official Dify plugins to understand correct format\n- Confirmed that Dify automatically searches for icons in `_assets/` directory\n- Important: CLI supports `.difyignore` file for excluding files from package\n- `.gitignore` only affects git repository, `.difyignore` affects package contents\n- Package size: 145 KB (compressed), 575 KB (uncompressed)\n- Maximum package size: 50 MB (uncompressed)\n- Excluded from package: tests, development docs, validation scripts, Python cache\n\nAnalyzed official Dify plugins to understand correct format\n\nConfirmed that Dify automatically searches for icons in `_assets/` directory\n\nImportant: CLI supports `.difyignore` file for excluding files from package\n\n`.gitignore` only affects git repository, `.difyignore` affects package contents\n\nPackage size: 145 KB (compressed), 575 KB (uncompressed)\n\nMaximum package size: 50 MB (uncompressed)\n\nExcluded from package: tests, development docs, validation scripts, Python cache",
        "start_line": 102,
        "end_line": 117,
        "size": 2097,
        "strategy": "structural"
      },
      {
        "content": "`.gitignore` only affects git repository, `.difyignore` affects package contents\n\nPackage size: 145 KB (compressed), 575 KB (uncompressed)\n\nMaximum package size: 50 MB (uncompressed)\n\nExcluded from package: tests, development docs, validation scripts, Python cache\n\n## [2.0.0-a0-0] - 2025-11-23\n\n### Migration Notes\n\nIf you have an older version installed:\n\n- Uninstall the old version from Dify UI\n- Install the new package from releases\n- Reconfigure any Knowledge Bases using the plugin\n\nUninstall the old version from Dify UI\n\nInstall the new package from releases\n\nReconfigure any Knowledge Bases using the plugin",
        "start_line": 118,
        "end_line": 123,
        "size": 618,
        "strategy": "structural"
      },
      {
        "content": "Uninstall the old version from Dify UI\n\nInstall the new package from releases\n\nReconfigure any Knowledge Bases using the plugin\n\n## [2.0.0-beta] - 2025-11-22\n\n### Added\n\n- Initial implementation of Advanced Markdown Chunker plugin\n- Support for multiple chunking strategies (auto, code, structural, mixed, list, table, sentences)\n- Configurable parameters (max_chunk_size, chunk_overlap, strategy, include_metadata)\n- Rich metadata for each chunk (type, strategy, line numbers, complexity)\n- Multi-language support (English, Chinese, Russian)\n- Comprehensive error handling\n- Manual packaging script (no dify-plugin CLI required)\n- Extensive validation utilities\n- Complete test suite\n\nInitial implementation of Advanced Markdown Chunker plugin\n\nSupport for multiple chunking strategies (auto, code, structural, mixed, list, table, sentences)\n\nConfigurable parameters (max_chunk_size, chunk_overlap, strategy, include_metadata)\n\nRich metadata for each chunk (type, strategy, line numbers, complexity)\n\nMulti-language support (English, Chinese, Russian)\n\nComprehensive error handling\n\nManual packaging script (no dify-plugin CLI required)\n\nExtensive validation utilities\n\nComplete test suite\n\n### Known Issues\n\n- ~~Icon path in manifest causing import errors~~ (Fixed in 2.0.0)\n\n~~Icon path in manifest causing import errors~~ (Fixed in 2.0.0)",
        "start_line": 126,
        "end_line": 126,
        "size": 1342,
        "strategy": "structural"
      },
      {
        "content": "Manual packaging script (no dify-plugin CLI required)\n\nExtensive validation utilities\n\nComplete test suite\n\n- ~~Icon path in manifest causing import errors~~ (Fixed in 2.0.0)\n\n~~Icon path in manifest causing import errors~~ (Fixed in 2.0.0)\n\n## Version History\n\n- 2.0.0 (2025-11-23) - Fixed icon path, ready for production\n- 2.0.0-beta (2025-11-22) - Initial release with known import issue\n\n2.0.0 (2025-11-23) - Fixed icon path, ready for production\n\n2.0.0-beta (2025-11-22) - Initial release with known import issue",
        "start_line": 144,
        "end_line": 144,
        "size": 517,
        "strategy": "structural"
      },
      {
        "content": "2.0.0 (2025-11-23) - Fixed icon path, ready for production\n\n2.0.0-beta (2025-11-22) - Initial release with known import issue\n\n## Links\n\n- Development Guide:\n- Contributing:\n- Documentation:\n\n[DEVELOPMENT.md](DEVELOPMENT.md)\n\n[CONTRIBUTING.md](CONTRIBUTING.md)\n\n[docs/](docs/)",
        "start_line": 151,
        "end_line": 151,
        "size": 276,
        "strategy": "structural"
      }
    ],
    "total_output_size": 16352
  },
  "mixed/contributing.md": {
    "input_size": 4245,
    "input_lines": 178,
    "chunk_count": 11,
    "chunks": [
      {
        "content": "# Contributing to Dify Markdown Chunker\n\nThank you for your interest in contributing to the Dify Markdown Chunker plugin!\n\n[Developer Guide](docs/guides/developer-guide.md)",
        "start_line": 1,
        "end_line": 1,
        "size": 172,
        "strategy": "structural"
      },
      {
        "content": "[Developer Guide](docs/guides/developer-guide.md)\n\n## Getting Started\n\n- Fork the repository\n- Clone your fork: `git clone https://github.com/yourusername/dify-markdown-chunker.git`\n- Create a virtual environment: `python3 -m venv venv`\n- Activate it: `source venv/bin/activate` (Linux/Mac) or `venv\\Scripts\\activate` (Windows)\n- Install dependencies: `make install`\n- Create a feature branch: `git checkout -b feature/your-feature-name`\n\nFork the repository\n\nClone your fork: `git clone https://github.com/yourusername/dify-markdown-chunker.git`\n\nCreate a virtual environment: `python3 -m venv venv`\n\nActivate it: `source venv/bin/activate` (Linux/Mac) or `venv\\Scripts\\activate` (Windows)\n\nInstall dependencies: `make install`\n\nCreate a feature branch: `git checkout -b feature/your-feature-name`",
        "start_line": 9,
        "end_line": 9,
        "size": 798,
        "strategy": "structural"
      },
      {
        "content": "Create a virtual environment: `python3 -m venv venv`\n\nActivate it: `source venv/bin/activate` (Linux/Mac) or `venv\\Scripts\\activate` (Windows)\n\nInstall dependencies: `make install`\n\nCreate a feature branch: `git checkout -b feature/your-feature-name`\n\n## Development Workflow\n\n### Making Changes\n\n- Make your changes in your feature branch\n- Write or update tests as needed\n- Run tests: `make test`\n- Format code: `make format`\n- Run linter: `make lint`\n- Validate structure: `make validate`\n\nMake your changes in your feature branch\n\nWrite or update tests as needed\n\nRun tests: `make test`\n\nFormat code: `make format`\n\nRun linter: `make lint`\n\nValidate structure: `make validate`\n\n### Testing\n\nWe maintain comprehensive test coverage (1366+ tests). Please ensure:\n\n- All existing tests pass\n- New features have corresponding tests\n- Property-based tests are used for universal properties\n- Integration tests cover end-to-end workflows\n\nAll existing tests pass\n\nNew features have corresponding tests\n\nProperty-based tests are used for universal properties\n\nIntegration tests cover end-to-end workflows\n\nRun tests with:\n\n```bash\nmake test              # All tests\nmake test-quick        # Quick tests only\nmake test-coverage     # With coverage report\n```\n\n### Code Style\n\n- Follow PEP 8 style guide\n- Use type hints for all functions\n- Write docstrings for public APIs\n- Keep functions focused and small\n- Use meaningful variable names\n\nFollow PEP 8 style guide\n\nUse type hints for all functions\n\nWrite docstrings for public APIs\n\nKeep functions focused and small\n\nUse meaningful variable names\n\nFormat your code:\n\n```bash\nmake format\n```\n\n### Documentation\n\n- Update README.md if adding features\n- Update CHANGELOG.md with your changes\n- Add docstrings to new functions/classes\n- Update relevant documentation in `docs/`\n\nUpdate README.md if adding features\n\nUpdate CHANGELOG.md with your changes\n\nAdd docstrings to new functions/classes\n\nUpdate relevant documentation in `docs/`",
        "start_line": 18,
        "end_line": 18,
        "size": 1980,
        "strategy": "structural"
      },
      {
        "content": "- Update README.md if adding features\n- Update CHANGELOG.md with your changes\n- Add docstrings to new functions/classes\n- Update relevant documentation in `docs/`\n\nUpdate README.md if adding features\n\nUpdate CHANGELOG.md with your changes\n\nAdd docstrings to new functions/classes\n\nUpdate relevant documentation in `docs/`\n\n## Submitting Changes\n\n### Pull Request Process\n\n- Update CHANGELOG.md with your changes\n- Ensure all tests pass\n- Update documentation as needed\n- Push to your fork\n- Create a Pull Request with:\n- Clear description of changes\n- Reference to related issues\n- Test results\n- Screenshots (if UI changes)\n\nUpdate CHANGELOG.md with your changes\n\nEnsure all tests pass\n\nUpdate documentation as needed\n\nPush to your fork\n\nCreate a Pull Request with:\n\n- Clear description of changes\n- Reference to related issues\n- Test results\n- Screenshots (if UI changes)\n\nClear description of changes\n\nReference to related issues\n\nTest results\n\nScreenshots (if UI changes)\n\n### Pull Request Guidelines\n\n- One feature/fix per PR\n- Keep PRs focused and small\n- Write clear commit messages\n- Reference issues in commits (e.g., \"Fixes #123\")\n- Respond to review feedback promptly\n\nOne feature/fix per PR\n\nKeep PRs focused and small\n\nWrite clear commit messages\n\nReference issues in commits (e.g., \"Fixes #123\")\n\nRespond to review feedback promptly\n\n### Commit Message Format\n\n```\n<type>: <subject>\n\n<body>\n\n<footer>\n```\n\nTypes:\n\n- `feat`: New feature\n- `fix`: Bug fix\n- `docs`: Documentation changes\n- `style`: Code style changes (formatting)\n- `refactor`: Code refactoring\n- `test`: Test changes\n- `chore`: Build/tooling changes\n\n`feat`: New feature\n\n`fix`: Bug fix\n\n`docs`: Documentation changes\n\n`style`: Code style changes (formatting)\n\n`refactor`: Code refactoring\n\n`test`: Test changes\n\n`chore`: Build/tooling changes\n\nExample:\n\n```\nfeat: Add support for custom delimiters\n\n- Added delimiter configuration option\n- Updated parser to handle custom delimiters\n- Added tests for delimiter functionality\n\nCloses #123\n```",
        "start_line": 65,
        "end_line": 65,
        "size": 2021,
        "strategy": "structural"
      },
      {
        "content": "changes\n- `style`: Code style changes (formatting)\n- `refactor`: Code refactoring\n- `test`: Test changes\n- `chore`: Build/tooling changes\n\n`feat`: New feature\n\n`fix`: Bug fix\n\n`docs`: Documentation changes\n\n`style`: Code style changes (formatting)\n\n`refactor`: Code refactoring\n\n`test`: Test changes\n\n`chore`: Build/tooling changes\n\nExample:\n\n## Code Review\n\nAll submissions require review. We use GitHub pull requests for this purpose.\n\nReviewers will check:\n\n- Code quality and style\n- Test coverage\n- Documentation completeness\n- Performance implications\n- Breaking changes\n\nCode quality and style\n\nTest coverage\n\nDocumentation completeness\n\nPerformance implications\n\nBreaking changes",
        "start_line": 117,
        "end_line": 117,
        "size": 687,
        "strategy": "structural"
      },
      {
        "content": "Code quality and style\n\nTest coverage\n\nDocumentation completeness\n\nPerformance implications\n\nBreaking changes\n\n## Testing in Dify\n\nBefore submitting, test your changes in a real Dify instance:\n\n- Build the plugin: `make package`\n- Install in Dify UI\n- Test with real documents\n- Verify all features work as expected\n\nBuild the plugin: `make package`\n\nInstall in Dify UI\n\nTest with real documents\n\nVerify all features work as expected",
        "start_line": 128,
        "end_line": 128,
        "size": 433,
        "strategy": "structural"
      },
      {
        "content": "Build the plugin: `make package`\n\nInstall in Dify UI\n\nTest with real documents\n\nVerify all features work as expected\n\n## Reporting Bugs\n\nUse GitHub Issues to report bugs. Include:\n\n- Clear description of the bug\n- Steps to reproduce\n- Expected vs actual behavior\n- Environment details (Python version, Dify version, OS)\n- Error messages and logs\n- Minimal reproducible example\n\nClear description of the bug\n\nSteps to reproduce\n\nExpected vs actual behavior\n\nEnvironment details (Python version, Dify version, OS)\n\nError messages and logs\n\nMinimal reproducible example",
        "start_line": 137,
        "end_line": 137,
        "size": 566,
        "strategy": "structural"
      },
      {
        "content": "Clear description of the bug\n\nSteps to reproduce\n\nExpected vs actual behavior\n\nEnvironment details (Python version, Dify version, OS)\n\nError messages and logs\n\nMinimal reproducible example\n\n## Suggesting Features\n\nUse GitHub Issues for feature requests. Include:\n\n- Clear description of the feature\n- Use case and motivation\n- Proposed implementation (if any)\n- Examples of similar features elsewhere\n\nClear description of the feature\n\nUse case and motivation\n\nProposed implementation (if any)\n\nExamples of similar features elsewhere",
        "start_line": 148,
        "end_line": 148,
        "size": 533,
        "strategy": "structural"
      },
      {
        "content": "Clear description of the feature\n\nUse case and motivation\n\nProposed implementation (if any)\n\nExamples of similar features elsewhere\n\n## Community\n\n- Be respectful and inclusive\n- Help others in issues and discussions\n- Share your use cases and feedback\n- Contribute to documentation\n\nBe respectful and inclusive\n\nHelp others in issues and discussions\n\nShare your use cases and feedback\n\nContribute to documentation",
        "start_line": 157,
        "end_line": 157,
        "size": 414,
        "strategy": "structural"
      },
      {
        "content": "Be respectful and inclusive\n\nHelp others in issues and discussions\n\nShare your use cases and feedback\n\nContribute to documentation\n\n## Questions?\n\n- Open a GitHub Issue for questions\n- Check existing documentation:\n- - Comprehensive development documentation\n- - All documentation\n- - Quick development reference\n- Review examples in `examples/`\n\nOpen a GitHub Issue for questions\n\nCheck existing documentation:\n\n- - Comprehensive development documentation\n- - All documentation\n- - Quick development reference\n\n[Developer Guide](docs/guides/developer-guide.md)\n\n[Documentation Index](docs/README.md)\n\n[DEVELOPMENT.md](DEVELOPMENT.md)\n\nReview examples in `examples/`",
        "start_line": 164,
        "end_line": 164,
        "size": 666,
        "strategy": "structural"
      },
      {
        "content": "[Documentation Index](docs/README.md)\n\n[DEVELOPMENT.md](DEVELOPMENT.md)\n\nReview examples in `examples/`\n\n## License\n\nBy contributing, you agree that your contributions will be licensed under the MIT License.\n\nThank you for contributing! ðŸŽ‰",
        "start_line": 173,
        "end_line": 173,
        "size": 238,
        "strategy": "structural"
      }
    ],
    "total_output_size": 8508
  },
  "mixed/readme.md": {
    "input_size": 15465,
    "input_lines": 587,
    "chunk_count": 17,
    "chunks": [
      {
        "content": "# ðŸ”– Advanced Markdown Chunker for Dify\n\nIntelligent Markdown document chunking for RAG systems with structural awareness\n\n[![Version](https://img.shields.io/badge/version-2.0.0--a3-orange.svg)](CHANGELOG.md)[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)[![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)[![Dify Plugin](https://img.shields.io/badge/dify-1.9.0+-green.svg)](https://dify.ai/)[![Tests](https://img.shields.io/badge/tests-1366+-brightgreen.svg)](#testing)",
        "start_line": 1,
        "end_line": 1,
        "size": 582,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“‹ Table of Contents\n\n- Overview\n- Features\n- Installation\n- Dify Integration\n- Quick Start\n- Chunking Strategies\n- Configuration\n- API Reference\n- Architecture\n- Performance\n- Development\n- Contributing\n- License\n\n[Overview](#overview)\n\n[Features](#-features)\n\n[Installation](#-installation)\n\n[Dify Integration](#-dify-integration)\n\n[Quick Start](#-quick-start)\n\n[Chunking Strategies](#-chunking-strategies)\n\n[Configuration](#-configuration)\n\n[API Reference](#-api-reference)\n\n[Architecture](#-architecture)\n\n[Performance](#-performance)\n\n[Development](#-development)\n\n[Contributing](#-contributing)\n\n[License](#-license)",
        "start_line": 17,
        "end_line": 17,
        "size": 624,
        "strategy": "structural"
      },
      {
        "content": "[Configuration](#-configuration)\n\n[API Reference](#-api-reference)\n\n[Architecture](#-architecture)\n\n[Performance](#-performance)\n\n[Development](#-development)\n\n[Contributing](#-contributing)\n\n[License](#-license)\n\n## Overview\n\nAdvanced Markdown Chunker is a Dify plugin that intelligently splits Markdown documents into semantically meaningful chunks optimized for RAG (Retrieval-Augmented Generation) systems. Unlike simple text splitting, it preserves document structure, keeps code blocks intact, and automatically selects the best chunking strategy based on content analysis.\n\n### Why Use This Plugin?\n\n| Simple Chunking Problems | Advanced Markdown Chunker Solution |\n|--------------------------|-----------------------------------|\n| Breaks code blocks mid-function | Preserves code blocks as atomic units |\n| Loses header context | Maintains hierarchical section structure |\n| Splits tables and lists | Keeps tables and lists intact |\n| One-size-fits-all approach | 6 adaptive strategies based on content |\n| No overlap support | Smart overlap for better retrieval |",
        "start_line": 35,
        "end_line": 35,
        "size": 1073,
        "strategy": "structural"
      },
      {
        "content": "Advanced Markdown Chunker is a Dify plugin that intelligently splits Markdown documents into semantically meaningful chunks optimized for RAG (Retrieval-Augmented Generation) systems. Unlike simple text splitting, it preserves document structure, keeps code blocks intact, and automatically selects the best chunking strategy based on content analysis.\n\n## âœ¨ Features\n\n### ðŸŽ¯ Adaptive Chunking\n\n- 6 intelligent strategies â€” automatic selection based on content analysis\n- Structure preservation â€” headers, lists, tables, and code stay intact\n- Smart overlap â€” configurable context overlap between chunks\n\n6 intelligent strategies â€” automatic selection based on content analysis\n\nStructure preservation â€” headers, lists, tables, and code stay intact\n\nSmart overlap â€” configurable context overlap between chunks\n\n### ðŸ” Deep Content Analysis\n\n- AST parsing â€” full Markdown syntax analysis\n- Content type detection â€” code-heavy, text-heavy, mixed\n- Complexity scoring â€” optimizes strategy selection\n\nAST parsing â€” full Markdown syntax analysis\n\nContent type detection â€” code-heavy, text-heavy, mixed\n\nComplexity scoring â€” optimizes strategy selection\n\n### ðŸ›¡ï¸ Reliability\n\n- 1366+ tests â€” comprehensive test coverage\n- Property-Based Testing â€” formal correctness guarantees with Hypothesis\n- 4-level fallback â€” graceful degradation on errors\n\n1366+ tests â€” comprehensive test coverage\n\nProperty-Based Testing â€” formal correctness guarantees with Hypothesis\n\n4-level fallback â€” graceful degradation on errors\n\n### ðŸ”Œ Integration\n\n- Dify Plugin â€” ready-to-use in Dify workflows\n- Python Library â€” standalone usage\n- REST API Ready â€” adapters for API integration\n\nDify Plugin â€” ready-to-use in Dify workflows\n\nPython Library â€” standalone usage\n\nREST API Ready â€” adapters for API integration",
        "start_line": 51,
        "end_line": 51,
        "size": 1780,
        "strategy": "structural"
      },
      {
        "content": "- Dify Plugin â€” ready-to-use in Dify workflows\n- Python Library â€” standalone usage\n- REST API Ready â€” adapters for API integration\n\nDify Plugin â€” ready-to-use in Dify workflows\n\nPython Library â€” standalone usage\n\nREST API Ready â€” adapters for API integration\n\n## ðŸ“¦ Installation\n\n### Dify Plugin Installation\n\n- Download the `.difypkg` file from\n- In Dify: Settings â†’ Plugins â†’ Install Plugin\n- Upload the `.difypkg` file\n- The plugin is now available in your workflows\n\n[Releases](https://github.com/asukhodko/dify-markdown-chunker/releases)\n\nIn Dify: Settings â†’ Plugins â†’ Install Plugin\n\nUpload the `.difypkg` file\n\nThe plugin is now available in your workflows\n\nRequirements:\n\n- Dify version 1.9.0 or higher\n- No additional configuration needed\n\nDify version 1.9.0 or higher\n\nNo additional configuration needed\n\n### Development Installation\n\n```bash\n# Clone the repository\ngit clone https://github.com/asukhodko/dify-markdown-chunker.git\ncd dify-markdown-chunker\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# Install dependencies\npip install -r requirements.txt\n\n# Verify installation\nmake test\n```\n\nRequirements:\n\n- Python 3.12 or higher\n\nPython 3.12 or higher",
        "start_line": 75,
        "end_line": 75,
        "size": 1229,
        "strategy": "structural"
      },
      {
        "content": "Requirements:\n\n- Dify version 1.9.0 or higher\n- No additional configuration needed\n\nDify version 1.9.0 or higher\n\nNo additional configuration needed\n\nRequirements:\n\n- Python 3.12 or higher\n\nPython 3.12 or higher\n\n## ðŸ”Œ Dify Integration\n\n### Workflow Configuration\n\nAdd the chunker to your Dify workflow:\n\n```yaml\n- node: chunk_markdown\n  type: tool\n  tool: advanced_markdown_chunker\n  config:\n    max_chunk_size: 2048\n    strategy: auto\n    chunk_overlap: 100\n    include_metadata: true\n```\n\n### Plugin Parameters\n\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `input_text` | string | required | Markdown text to chunk |\n| `max_chunk_size` | number | 1000 | Maximum chunk size in characters |\n| `chunk_overlap` | number | 100 | Overlap between consecutive chunks |\n| `strategy` | select | auto | Chunking strategy (auto/code/structural/mixed) |\n| `include_metadata` | boolean | true | Include chunk metadata |\n\n### Example: Knowledge Base Ingestion\n\n```yaml\nworkflow:\n  - node: load_document\n    type: document_loader\n  \n  - node: chunk_markdown\n    type: tool\n    tool: advanced_markdown_chunker\n    input: ${load_document.content}\n    config:\n      max_chunk_size: 2048\n      strategy: auto\n      chunk_overlap: 100\n  \n  - node: embed_chunks\n    type: embedding\n    input: ${chunk_markdown.chunks}\n  \n  - node: store_vectors\n    type: vector_store\n    input: ${embed_chunks.vectors}\n```\n\n### Example: API Documentation Processing\n\n```yaml\n- node: chunk_api_docs\n  type: tool\n  tool: advanced_markdown_chunker\n  config:\n    max_chunk_size: 1500\n    strategy: code\n    include_metadata: true\n```",
        "start_line": 111,
        "end_line": 111,
        "size": 1640,
        "strategy": "structural"
      },
      {
        "content": "Add the chunker to your Dify workflow:\n\n## ðŸš€ Quick Start\n\n### Basic Usage\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\n# Simple chunking\nchunker = MarkdownChunker()\nchunks = chunker.chunk(\"# Hello\\n\\nWorld\")\n\n# With analysis\nresult = chunker.chunk(\"# Hello\\n\\nWorld\", include_analysis=True)\nprint(f\"Strategy: {result.strategy_used}\")\nprint(f\"Chunks: {len(result.chunks)}\")\n```\n\n### Strategy Selection\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\nchunker = MarkdownChunker()\n\n# Automatic selection (recommended)\nchunks = chunker.chunk(text)\n\n# Force specific strategy\nchunks = chunker.chunk(text, strategy=\"code\")\nchunks = chunker.chunk(text, strategy=\"structural\")\n```\n\n### Configuration Profiles\n\n```python\nfrom markdown_chunker import MarkdownChunker, ChunkConfig\n\n# For code-heavy documents\nconfig = ChunkConfig.for_code_heavy()\nchunker = MarkdownChunker(config)\n\n# For Dify RAG systems\nconfig = ChunkConfig.for_dify_rag()\nchunker = MarkdownChunker(config)\n\n# For search indexing\nconfig = ChunkConfig.for_search_indexing()\nchunker = MarkdownChunker(config)\n```\n\n### Accessing Chunk Metadata\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\nchunker = MarkdownChunker()\nresult = chunker.chunk(markdown_text, include_analysis=True)\n\nfor chunk in result.chunks:\n    print(f\"Content: {chunk.content[:50]}...\")\n    print(f\"Lines: {chunk.start_line}-{chunk.end_line}\")\n    print(f\"Size: {chunk.size} chars\")\n    print(f\"Type: {chunk.content_type}\")\n    print(f\"Strategy: {chunk.strategy}\")\n```\n\n### Convenience Functions\n\n```python\nfrom markdown_chunker import chunk_text, chunk_file\n\n# Chunk text directly\nchunks = chunk_text(\"# My Document\\n\\nContent here...\")\n\n# Chunk from file\nchunks = chunk_file(\"README.md\")\n```",
        "start_line": 177,
        "end_line": 177,
        "size": 1746,
        "strategy": "structural"
      },
      {
        "content": "## ðŸŽ¨ Chunking Strategies\n\nThe system automatically selects the optimal strategy based on content analysis:\n\n| Strategy | Priority | Activation Conditions | Best For |\n|----------|----------|----------------------|----------|\n| Code | 1 (highest) | code_ratio â‰¥ 30%, â‰¥1 code block | Technical docs, tutorials |\n| Mixed | 2 | code_ratio â‰¥ 30%, complexity â‰¥ 0.3 | Balanced content |\n| List | 3 | â‰¥5 lists OR list_ratio > 60% | Task lists, outlines |\n| Table | 4 | â‰¥3 tables OR table_ratio > 40% | Data reports |\n| Structural | 5 | â‰¥3 headers, depth > 1 | Documentation |\n| Sentences | 6 (fallback) | Always applicable | Simple text |",
        "start_line": 257,
        "end_line": 257,
        "size": 630,
        "strategy": "structural"
      },
      {
        "content": "The system automatically selects the optimal strategy based on content analysis:\n\n## âš™ï¸ Configuration\n\n### Basic Parameters\n\n```python\nfrom markdown_chunker import ChunkConfig\n\nconfig = ChunkConfig(\n    # Size limits\n    max_chunk_size=4096,      # Maximum chunk size (chars)\n    min_chunk_size=512,       # Minimum chunk size\n    target_chunk_size=2048,   # Target size\n    \n    # Overlap\n    enable_overlap=True,      # Enable overlap\n    overlap_size=200,         # Overlap size (chars)\n    \n    # Behavior\n    preserve_code_blocks=True,    # Keep code blocks intact\n    preserve_tables=True,         # Keep tables intact\n    preserve_list_hierarchy=True, # Keep list structure\n    allow_oversize=True,          # Allow oversized chunks\n    \n    # Fallback\n    enable_fallback=True,     # Enable fallback strategies\n    max_fallback_level=4,     # Maximum fallback depth\n)\n```\n\n### Configuration Profiles\n\n| Profile | Use Case | Max Size | Overlap |\n|---------|----------|----------|---------|\n| `default()` | General use | 4096 | 200 |\n| `for_code_heavy()` | Code documentation | 6144 | 300 |\n| `for_structured_docs()` | Structured docs | 3072 | 150 |\n| `for_dify_rag()` | Dify RAG systems | 3072 | 150 |\n| `for_api_docs()` | API documentation | 3072 | 150 |\n| `for_code_docs()` | Code docs | 2048 | 100 |\n| `for_chat_context()` | LLM context | 1536 | 200 |\n| `for_search_indexing()` | Search | 1024 | 100 |\n| `for_large_documents()` | Large files | 8192 | 400 |\n| `for_fast_processing()` | Batch processing | 8192 | 100 |\n| `compact()` | Fine-grained | 2048 | 100 |\n\n### Overlap Handling\n\nTwo modes for overlap handling:\n\n- Metadata mode (`include_metadata=True`): Overlap stored in `previous_content`/`next_content` fields\n- Content mode (`include_metadata=False`): Overlap merged into chunk content\n\nMetadata mode (`include_metadata=True`): Overlap stored in `previous_content`/`next_content` fields\n\nContent mode (`include_metadata=False`): Overlap merged into chunk content",
        "start_line": 272,
        "end_line": 272,
        "size": 1982,
        "strategy": "structural"
      },
      {
        "content": "- Metadata mode (`include_metadata=True`): Overlap stored in `previous_content`/`next_content` fields\n- Content mode (`include_metadata=False`): Overlap merged into chunk content\n\nMetadata mode (`include_metadata=True`): Overlap stored in `previous_content`/`next_content` fields\n\nContent mode (`include_metadata=False`): Overlap merged into chunk content\n\n## ðŸ“š API Reference\n\n### MarkdownChunker\n\n```python\nclass MarkdownChunker:\n    def __init__(\n        self,\n        config: Optional[ChunkConfig] = None,\n        enable_performance_monitoring: bool = False\n    )\n    \n    def chunk(\n        self,\n        md_text: str,\n        strategy: Optional[str] = None,\n        include_analysis: bool = False,\n        return_format: Literal[\"objects\", \"dict\"] = \"objects\",\n        include_metadata: bool = True\n    ) -> Union[List[Chunk], ChunkingResult, dict]\n    \n    def get_available_strategies(self) -> List[str]\n    def add_strategy(self, strategy: BaseStrategy) -> None\n    def remove_strategy(self, strategy_name: str) -> None\n```\n\n### Chunk\n\n```python\n@dataclass\nclass Chunk:\n    content: str           # Chunk content\n    start_line: int        # Start line (1-based)\n    end_line: int          # End line\n    metadata: Dict[str, Any]\n    \n    # Properties\n    size: int              # Size in characters\n    line_count: int        # Number of lines\n    content_type: str      # Content type (code/text/list/table/mixed)\n    strategy: str          # Strategy used\n    language: Optional[str] # Programming language (for code)\n```\n\n### ChunkingResult\n\n```python\n@dataclass\nclass ChunkingResult:\n    chunks: List[Chunk]\n    strategy_used: str\n    processing_time: float\n    fallback_used: bool\n    fallback_level: int\n    errors: List[str]\n    warnings: List[str]\n    \n    # Statistics\n    total_chars: int\n    total_lines: int\n    content_type: str\n    complexity_score: float\n```",
        "start_line": 326,
        "end_line": 326,
        "size": 1882,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ—ï¸ Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    MarkdownChunker                          â”‚\nâ”‚                   (Main Orchestrator)                       â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                              â”‚\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â–¼               â–¼               â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  ParserInterface â”‚ â”‚ StrategySelector â”‚ â”‚ FallbackManager â”‚\nâ”‚   (Stage 1)      â”‚ â”‚                   â”‚ â”‚                 â”‚\nâ”‚                  â”‚ â”‚ â€¢ CodeStrategy    â”‚ â”‚ â€¢ 4 levels      â”‚\nâ”‚ â€¢ AST Building   â”‚ â”‚ â€¢ MixedStrategy   â”‚ â”‚ â€¢ Graceful      â”‚\nâ”‚ â€¢ Fenced Blocks  â”‚ â”‚ â€¢ ListStrategy    â”‚ â”‚   degradation   â”‚\nâ”‚ â€¢ Element Detect â”‚ â”‚ â€¢ TableStrategy   â”‚ â”‚                 â”‚\nâ”‚ â€¢ Content Analyzeâ”‚ â”‚ â€¢ StructuralStr.  â”‚ â”‚                 â”‚\nâ”‚                  â”‚ â”‚ â€¢ SentencesStr.   â”‚ â”‚                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n              â”‚               â”‚               â”‚\n              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                              â–¼\n              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n              â”‚      Post-Processing          â”‚\n              â”‚                               â”‚\n              â”‚ â€¢ OverlapManager              â”‚\n              â”‚ â€¢ MetadataEnricher            â”‚\n              â”‚ â€¢ DataCompletenessValidator   â”‚\n              â”‚ â€¢ PreambleExtractor           â”‚\n              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Modules\n\n| Module | Description |\n|--------|-------------|\n| `markdown_chunker/parser/` | AST parsing, content analysis, element detection |\n| `markdown_chunker/chunker/` | Chunking strategies, orchestration, validation |\n| `markdown_chunker/chunker/strategies/` | 6 chunking strategy implementations |\n| `markdown_chunker/api/` | REST API adapters, request validation |\n| `provider/` | Dify plugin provider |\n| `tools/` | Dify plugin tools |\n\n### Project Structure\n\n```\ndify-markdown-chunker/\nâ”œâ”€â”€ markdown_chunker/          # Core library\nâ”‚   â”œâ”€â”€ parser/                # Parsing and analysis\nâ”‚   â”œâ”€â”€ chunker/               # Chunking logic\nâ”‚   â”‚   â””â”€â”€ strategies/        # 6 chunking strategies\nâ”‚   â””â”€â”€ api/                   # API adapters\nâ”œâ”€â”€ provider/                  # Dify plugin provider\nâ”œâ”€â”€ tools/                     # Dify plugin tools\nâ”œâ”€â”€ tests/                     # Test suite (1366+ tests)\nâ”œâ”€â”€ docs/                      # Documentation\nâ”œâ”€â”€ examples/                  # Usage examples\nâ”œâ”€â”€ benchmarks/                # Performance benchmarks\nâ”œâ”€â”€ manifest.yaml              # Dify plugin manifest\nâ””â”€â”€ requirements.txt           # Dependencies\n```",
        "start_line": 392,
        "end_line": 392,
        "size": 2712,
        "strategy": "structural"
      },
      {
        "content": "## âš¡ Performance\n\n### Benchmarks\n\n| Document Size | Processing Time | Throughput | Chunks |\n|--------------|-----------------|------------|--------|\n| 1 KB | ~800 ms | 1.3 KB/s | 6 |\n| 10 KB | ~150 ms | 66 KB/s | 44 |\n| 50 KB | ~1.9 s | 27 KB/s | 215 |\n| 100 KB | ~7 s | 14 KB/s | 429 |\n\n### Performance Monitoring\n\n```python\nchunker = MarkdownChunker(enable_performance_monitoring=True)\n\nfor doc in documents:\n    chunker.chunk(doc)\n\nstats = chunker.get_performance_stats()\nprint(f\"Average time: {stats['chunk']['avg_time']:.3f}s\")\n```",
        "start_line": 457,
        "end_line": 457,
        "size": 536,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ§ª Development\n\n### Testing\n\n```bash\n# Run all tests (1366+)\nmake test\n\n# Verbose output\nmake test-verbose\n\n# With coverage report\nmake test-coverage\n\n# Quick tests\nmake test-quick\n```\n\n### Code Quality\n\n```bash\n# Format code\nmake format\n\n# Run linter\nmake lint\n\n# Type checking\nmake quality-check\n```\n\n### Building Plugin\n\n```bash\n# Validate structure\nmake validate\n\n# Build package\nmake package\n\n# Full release\nmake release\n```",
        "start_line": 482,
        "end_line": 482,
        "size": 431,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“¦ Dependencies\n\n### Core\n\n- `markdown-it-py>=3.0.0` â€” Markdown parsing\n- `mistune>=3.0.0` â€” Alternative parser\n- `pydantic>=2.0.0` â€” Data validation\n- `dify_plugin==0.5.0b15` â€” Dify integration\n\n`markdown-it-py>=3.0.0` â€” Markdown parsing\n\n`mistune>=3.0.0` â€” Alternative parser\n\n`pydantic>=2.0.0` â€” Data validation\n\n`dify_plugin==0.5.0b15` â€” Dify integration\n\n### Development\n\n- `pytest>=8.0.0` â€” Testing\n- `hypothesis>=6.0.0` â€” Property-based testing\n- `black>=23.0.0` â€” Code formatting\n- `mypy>=1.5.0` â€” Type checking\n\n`pytest>=8.0.0` â€” Testing\n\n`hypothesis>=6.0.0` â€” Property-based testing\n\n`black>=23.0.0` â€” Code formatting\n\n`mypy>=1.5.0` â€” Type checking",
        "start_line": 528,
        "end_line": 528,
        "size": 660,
        "strategy": "structural"
      },
      {
        "content": "â€” Testing\n- `hypothesis>=6.0.0` â€” Property-based testing\n- `black>=23.0.0` â€” Code formatting\n- `mypy>=1.5.0` â€” Type checking\n\n`pytest>=8.0.0` â€” Testing\n\n`hypothesis>=6.0.0` â€” Property-based testing\n\n`black>=23.0.0` â€” Code formatting\n\n`mypy>=1.5.0` â€” Type checking\n\n## ðŸ¤ Contributing\n\n[CONTRIBUTING.md](CONTRIBUTING.md)\n\n```bash\n# 1. Fork the repository\n# 2. Create feature branch\ngit checkout -b feature/amazing-feature\n\n# 3. Make changes with tests\n# 4. Check quality\nmake test && make quality-check\n\n# 5. Submit Pull Request\n```",
        "start_line": 544,
        "end_line": 544,
        "size": 530,
        "strategy": "structural"
      },
      {
        "content": "[CONTRIBUTING.md](CONTRIBUTING.md)\n\n## ðŸ“„ License\n\n[LICENSE](LICENSE)",
        "start_line": 562,
        "end_line": 562,
        "size": 68,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“ Changelog\n\nCurrent Version: 2.0.0-a3 (December 2024)\n\n### Recent Changes\n\n- Redesigned overlap handling with metadata-based neighbor context\n- Regression and duplication validation\n- Block-based chunking implementation\n- Improved API documentation\n\nRedesigned overlap handling with metadata-based neighbor context\n\nRegression and duplication validation\n\nBlock-based chunking implementation\n\nImproved API documentation\n\n[CHANGELOG.md](CHANGELOG.md)\n\n[â¬† Back to Top](#-advanced-markdown-chunker-for-dify)",
        "start_line": 568,
        "end_line": 568,
        "size": 507,
        "strategy": "structural"
      }
    ],
    "total_output_size": 18612
  },
  "simple/installation.md": {
    "input_size": 4353,
    "input_lines": 173,
    "chunk_count": 7,
    "chunks": [
      {
        "content": "# Installation Guide\n\nThis guide covers installing the Dify Markdown Chunker plugin in different scenarios.",
        "start_line": 1,
        "end_line": 1,
        "size": 107,
        "strategy": "structural"
      },
      {
        "content": "## ðŸ“¦ As Dify Plugin\n\n### Prerequisites\n\n- Dify instance (self-hosted or cloud)\n- Admin access to Dify settings\n\nDify instance (self-hosted or cloud)\n\nAdmin access to Dify settings\n\n### Installation Steps\n\n- Download the Plugin Package\n- Get the latest `.difypkg` file from releases\n- Or build from source (see )\n- Install in Dify\n- Open Dify UI\n- Navigate to: Settings â†’ Plugins â†’ Install Plugin\n- Click \"Upload Plugin\"\n- Select the `.difypkg` file\n- Wait for installation to complete\n- Verify Installation\n- Go to: Settings â†’ Plugins\n- Find \"Advanced Markdown Chunker\" in the list\n- Status should show \"Active\"\n- Configure in Workflows\n- Create or edit a workflow\n- Add a tool node\n- Select \"Advanced Markdown Chunker\"\n- Configure chunking parameters\n\nDownload the Plugin Package\n\n- Get the latest `.difypkg` file from releases\n- Or build from source (see )\n\nGet the latest `.difypkg` file from releases\n\n[Development Setup](#for-development)\n\nInstall in Dify\n\n- Open Dify UI\n- Navigate to: Settings â†’ Plugins â†’ Install Plugin\n- Click \"Upload Plugin\"\n- Select the `.difypkg` file\n- Wait for installation to complete\n\nOpen Dify UI\n\nNavigate to: Settings â†’ Plugins â†’ Install Plugin\n\nClick \"Upload Plugin\"\n\nSelect the `.difypkg` file\n\nWait for installation to complete\n\nVerify Installation\n\n- Go to: Settings â†’ Plugins\n- Find \"Advanced Markdown Chunker\" in the list\n- Status should show \"Active\"\n\nGo to: Settings â†’ Plugins\n\nFind \"Advanced Markdown Chunker\" in the list\n\nStatus should show \"Active\"\n\nConfigure in Workflows\n\n- Create or edit a workflow\n- Add a tool node\n- Select \"Advanced Markdown Chunker\"\n- Configure chunking parameters\n\nCreate or edit a workflow\n\nAdd a tool node\n\nSelect \"Advanced Markdown Chunker\"\n\nConfigure chunking parameters\n\n### Configuration in Dify\n\nWhen using in Dify workflows, you can configure:\n\n- max_chunk_size: Maximum chunk size in characters (default: 2048)\n- min_chunk_size: Minimum chunk size in characters (default: 256)\n- strategy: Chunking strategy (`auto`, `code`, `mixed`, `list`, `table`, `structural`, `sentences`)\n- enable_overlap: Enable chunk overlap (default: false)\n- overlap_size: Overlap size in characters (default: 100)\n\nmax_chunk_size: Maximum chunk size in characters (default: 2048)\n\nmin_chunk_size: Minimum chunk size in characters (default: 256)\n\nstrategy: Chunking strategy (`auto`, `code`, `mixed`, `list`, `table`, `structural`, `sentences`)\n\nenable_overlap: Enable chunk overlap (default: false)\n\noverlap_size: Overlap size in characters (default: 100)",
        "start_line": 5,
        "end_line": 5,
        "size": 2513,
        "strategy": "structural"
      },
      {
        "content": "strategy: Chunking strategy (`auto`, `code`, `mixed`, `list`, `table`, `structural`, `sentences`)\n\nenable_overlap: Enable chunk overlap (default: false)\n\noverlap_size: Overlap size in characters (default: 100)\n\n## ðŸ As Python Library\n\n### Prerequisites\n\n- Python 3.12 or higher\n- pip package manager\n\nPython 3.12 or higher\n\npip package manager\n\n### Installation\n\n```bash\n# Install from source\ngit clone <repository-url>\ncd dify-markdown-chunker\npip install -e .\n```\n\n### Verify Installation\n\n```python\n# Test import\nfrom markdown_chunker import MarkdownChunker\n\n# Create chunker\nchunker = MarkdownChunker()\nprint(\"Installation successful!\")\n```",
        "start_line": 46,
        "end_line": 46,
        "size": 644,
        "strategy": "structural"
      },
      {
        "content": "- Python 3.12 or higher\n- pip package manager\n\nPython 3.12 or higher\n\npip package manager\n\n## ðŸ› ï¸ For Development\n\n### Prerequisites\n\n- Python 3.12+\n- Git\n- dify-plugin CLI (for building packages)\n\nPython 3.12+\n\nGit\n\ndify-plugin CLI (for building packages)\n\n### Setup Development Environment\n\n```bash\n# Clone repository\ngit clone <repository-url>\ncd dify-markdown-chunker\n\n# Create virtual environment\npython3 -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# or\nvenv\\Scripts\\activate     # Windows\n\n# Install dependencies\npip install -r requirements.txt\n\n# Install development dependencies\npip install -e \".[dev]\"\n```\n\n### Install dify-plugin CLI\n\n```bash\n# Linux/Mac\ncurl -L https://github.com/langgenius/dify-plugin-daemon/releases/latest/download/dify-plugin-linux-amd64 -o /tmp/dify-plugin\nchmod +x /tmp/dify-plugin\nsudo mv /tmp/dify-plugin /usr/local/bin/dify-plugin\n\n# Verify installation\ndify-plugin version\n```\n\n### Verify Development Setup\n\n```bash\n# Run tests\nmake test\n\n# Run linter\nmake lint\n\n# Build package\nmake package\n```",
        "start_line": 73,
        "end_line": 73,
        "size": 1040,
        "strategy": "structural"
      },
      {
        "content": "- Python 3.12+\n- Git\n- dify-plugin CLI (for building packages)\n\nPython 3.12+\n\nGit\n\ndify-plugin CLI (for building packages)\n\n## ðŸ”§ Troubleshooting\n\n### Plugin Installation Issues\n\nProblem: \"Plugin package is invalid\"\n\n- Solution: Ensure you downloaded the correct `.difypkg` file\n- Solution: Try rebuilding the package: `make package`\n\nSolution: Ensure you downloaded the correct `.difypkg` file\n\nSolution: Try rebuilding the package: `make package`\n\nProblem: \"Plugin installation failed\"\n\n- Solution: Check Dify logs for detailed error messages\n- Solution: Verify Dify version compatibility\n\nSolution: Check Dify logs for detailed error messages\n\nSolution: Verify Dify version compatibility\n\n### Python Library Issues\n\nProblem: `ModuleNotFoundError: No module named 'markdown_chunker'`\n\n- Solution: Activate virtual environment: `source venv/bin/activate`\n- Solution: Install dependencies: `pip install -r requirements.txt`\n\nSolution: Activate virtual environment: `source venv/bin/activate`\n\nSolution: Install dependencies: `pip install -r requirements.txt`\n\nProblem: Import errors\n\n- Solution: Use correct imports: `from markdown_chunker import MarkdownChunker`\n- Solution: Don't use legacy imports: `from stage1 import ...`\n\nSolution: Use correct imports: `from markdown_chunker import MarkdownChunker`\n\nSolution: Don't use legacy imports: `from stage1 import ...`\n\n### Development Setup Issues\n\nProblem: Tests failing\n\n- Solution: Ensure virtual environment is activated\n- Solution: Install test dependencies: `pip install -e \".[dev]\"`\n- Solution: Run: `make test-verbose` for detailed output\n\nSolution: Ensure virtual environment is activated\n\nSolution: Install test dependencies: `pip install -e \".[dev]\"`\n\nSolution: Run: `make test-verbose` for detailed output\n\nProblem: dify-plugin CLI not found\n\n- Solution: Install CLI following instructions above\n- Solution: Check PATH includes `/usr/local/bin`\n\nSolution: Install CLI following instructions above\n\nSolution: Check PATH includes `/usr/local/bin`",
        "start_line": 126,
        "end_line": 126,
        "size": 2005,
        "strategy": "structural"
      },
      {
        "content": "Problem: dify-plugin CLI not found\n\n- Solution: Install CLI following instructions above\n- Solution: Check PATH includes `/usr/local/bin`\n\nSolution: Install CLI following instructions above\n\nSolution: Check PATH includes `/usr/local/bin`\n\n## ðŸ“š Next Steps\n\nAfter installation:\n\n- Read the\n- Check the\n- Review\n- See  for workflow setup\n\n[Quick Start Guide](quickstart.md)\n\n[Usage Guide](usage.md)\n\n[Configuration Options](reference/configuration.md)\n\n[Dify Integration](architecture/dify-integration.md)",
        "start_line": 159,
        "end_line": 159,
        "size": 502,
        "strategy": "structural"
      },
      {
        "content": "[Usage Guide](usage.md)\n\n[Configuration Options](reference/configuration.md)\n\n[Dify Integration](architecture/dify-integration.md)\n\n## ðŸ†˜ Getting Help\n\n- Installation Issues: Check\n- Configuration Help: See\n- Development Questions: Review\n\n[Troubleshooting Guide](guides/troubleshooting.md)\n\n[Configuration Reference](reference/configuration.md)\n\n[Developer Guide](guides/developer-guide.md)",
        "start_line": 168,
        "end_line": 168,
        "size": 390,
        "strategy": "structural"
      }
    ],
    "total_output_size": 7201
  },
  "simple/notes.md": {
    "input_size": 249,
    "input_lines": 14,
    "chunk_count": 1,
    "chunks": [
      {
        "content": "# Simple Notes Just some simple notes without much structure. This is a paragraph of text. It doesn't have any special formatting or code blocks. Another paragraph here. Still very simple.\n\n- Item one\n- Item two\n- Item three That's all for now.",
        "start_line": 1,
        "end_line": 11,
        "size": 244,
        "strategy": "sentences"
      }
    ],
    "total_output_size": 244
  },
  "structured/architecture_overview.md": {
    "input_size": 8324,
    "input_lines": 252,
    "chunk_count": 11,
    "chunks": [
      {
        "content": "# Ð¦ÐµÐ»ÐµÐ²Ð°Ñ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°: ÐžÐ±Ð·Ð¾Ñ€",
        "start_line": 1,
        "end_line": 1,
        "size": 28,
        "strategy": "structural"
      },
      {
        "content": "## Ð’ÐµÑ€ÑÐ¸Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ\n\nÐ ÐµÐ´Ð¸Ð·Ð°Ð¹Ð½ Ð²Ñ‹Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ ÐºÐ°Ðº Ð²ÐµÑ€ÑÐ¸Ñ 2.0.0 ÑÐ¾Ð³Ð»Ð°ÑÐ½Ð¾ Semantic Versioning, Ñ‚Ð°Ðº ÐºÐ°Ðº ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ breaking changes Ð² API.\n\nÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ:\n\n- Ð£Ð¿Ñ€Ð¾Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ API `chunk()` â€” Ð²ÑÐµÐ³Ð´Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ `ChunkingResult`\n- Ð¡Ð¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² `ChunkConfig` Ñ 32 Ð´Ð¾ 8\n- Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ deprecated Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² (`chunk_with_analysis`, `chunk_simple`)\n- ÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¹ Ñ 6 Ð´Ð¾ 3\n\nÐ£Ð¿Ñ€Ð¾Ñ‰Ñ‘Ð½Ð½Ñ‹Ð¹ API `chunk()` â€” Ð²ÑÐµÐ³Ð´Ð° Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÑ‚ `ChunkingResult`\n\nÐ¡Ð¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² `ChunkConfig` Ñ 32 Ð´Ð¾ 8\n\nÐ£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ deprecated Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² (`chunk_with_analysis`, `chunk_simple`)\n\nÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¹ Ñ 6 Ð´Ð¾ 3\n\nÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ: Ð¡Ð¼. `MIGRATION.md` Ð´Ð»Ñ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð° Ð¿Ð¾ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ v1.x.",
        "start_line": 3,
        "end_line": 3,
        "size": 655,
        "strategy": "structural"
      },
      {
        "content": "Ð¡Ð¾ÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² `ChunkConfig` Ñ 32 Ð´Ð¾ 8\n\nÐ£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ deprecated Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð² (`chunk_with_analysis`, `chunk_simple`)\n\nÐšÐ¾Ð½ÑÐ¾Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¹ Ñ 6 Ð´Ð¾ 3\n\nÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ñ: Ð¡Ð¼. `MIGRATION.md` Ð´Ð»Ñ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾Ð³Ð¾ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð° Ð¿Ð¾ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ v1.x.\n\n## Ð¦ÐµÐ»Ð¸ Ñ€ÐµÐ´Ð¸Ð·Ð°Ð¹Ð½Ð°\n\n- ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° â€” Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸\n- ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ â€” Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±ÐµÐ· ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸\n- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ â€” property-based Ñ‚ÐµÑÑ‚Ñ‹ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð² Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸\n- ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°, Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð°Ð»Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¹\n\nÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° â€” Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸\n\nÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ â€” Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±ÐµÐ· ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸\n\nÐ¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ â€” property-based Ñ‚ÐµÑÑ‚Ñ‹ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð² Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸\n\nÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°, Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð°Ð»Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¹",
        "start_line": 15,
        "end_line": 15,
        "size": 712,
        "strategy": "structural"
      },
      {
        "content": "ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° â€” Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð´Ð»Ñ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸\n\nÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ â€” Ð»Ð¸Ð½ÐµÐ¹Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð±ÐµÐ· ÑƒÑÐ»Ð¾Ð²Ð½Ð¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸\n\nÐ¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒ â€” property-based Ñ‚ÐµÑÑ‚Ñ‹ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¾Ð² Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸\n\nÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°, Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð°Ð»Ð»Ð¾ÐºÐ°Ñ†Ð¸Ð¹\n\n## ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð¼ÐµÑ‚Ñ€Ð¸ÐºÐ¸\n\n| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | Ð‘Ñ‹Ð»Ð¾ | Ð¦ÐµÐ»ÑŒ | Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ |\n|---------|------|------|-----------|\n| Ð¤Ð°Ð¹Ð»Ð¾Ð² | 55 | 12 | -78% |\n| Ð¡Ñ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð° | ~24,000 | ~5,000 | -79% |\n| ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ | 32 | 8-10 | -70% |\n| Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¹ | 6 | 3 | -50% |\n| Ð¢ÐµÑÑ‚Ð¾Ð² | 1,853 | ~50-100 | -95% |\n| Ð¡Ñ‚Ñ€Ð¾Ðº Ñ‚ÐµÑÑ‚Ð¾Ð² | ~45,600 | ~2,000 | -96% |\n| ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² | 50+ | ~10 | -80% |",
        "start_line": 22,
        "end_line": 22,
        "size": 594,
        "strategy": "structural"
      },
      {
        "content": "## ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹\n\n### 1. Single Responsibility\n\nÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ñ€ÐµÑˆÐ°ÐµÑ‚ Ð¾Ð´Ð½Ñƒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ:\n\n- `parser.py` â€” Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ markdown\n- `chunker.py` â€” Ñ€Ð°Ð·Ð±Ð¸ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ‡Ð°Ð½ÐºÐ¸\n- `strategies/*.py` â€” Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹ Ñ€Ð°Ð·Ð±Ð¸ÐµÐ½Ð¸Ñ\n\n`parser.py` â€” Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ markdown\n\n`chunker.py` â€” Ñ€Ð°Ð·Ð±Ð¸ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ‡Ð°Ð½ÐºÐ¸\n\n`strategies/*.py` â€” Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ñ‹ Ñ€Ð°Ð·Ð±Ð¸ÐµÐ½Ð¸Ñ\n\n### 2. No Duplication\n\n- ÐžÐ´Ð¸Ð½ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ overlap\n- ÐžÐ´Ð½Ð° Ñ‚Ð¾Ñ‡ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸\n- ÐžÐ´Ð½Ð¾ Ð¼ÐµÑÑ‚Ð¾ Ð¾Ð±Ð¾Ð³Ð°Ñ‰ÐµÐ½Ð¸Ñ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ…\n\nÐžÐ´Ð¸Ð½ Ð¼ÐµÑ…Ð°Ð½Ð¸Ð·Ð¼ overlap\n\nÐžÐ´Ð½Ð° Ñ‚Ð¾Ñ‡ÐºÐ° Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ð¸\n\nÐžÐ´Ð½Ð¾ Ð¼ÐµÑÑ‚Ð¾ Ð¾Ð±Ð¾Ð³Ð°Ñ‰ÐµÐ½Ð¸Ñ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ…\n\n### 3. Linear Pipeline\n\n```\nInput â†’ Parse â†’ Select Strategy â†’ Apply â†’ Post-process â†’ Output\n```\n\nÐ‘ÐµÐ·:\n\n- Ð”Ð²Ð¾Ð¹Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°\n- Ð£ÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð²ÐµÑ‚Ð¾Ðº\n- ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð´Ð»Ñ Ð±Ð°Ð³Ñ„Ð¸ÐºÑÐ¾Ð²\n\nÐ”Ð²Ð¾Ð¹Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°\n\nÐ£ÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð²ÐµÑ‚Ð¾Ðº\n\nÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð´Ð»Ñ Ð±Ð°Ð³Ñ„Ð¸ÐºÑÐ¾Ð²\n\n### 4. Contract-First\n\nÐ”Ð¾Ð¼ÐµÐ½Ð½Ñ‹Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° (PROP-1..PROP-10) Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚.\nÐ ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñƒ.\nÐ¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑŽÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚, Ð° Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ.",
        "start_line": 34,
        "end_line": 34,
        "size": 891,
        "strategy": "structural"
      },
      {
        "content": "- Ð”Ð²Ð¾Ð¹Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°\n- Ð£ÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð²ÐµÑ‚Ð¾Ðº\n- ÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð´Ð»Ñ Ð±Ð°Ð³Ñ„Ð¸ÐºÑÐ¾Ð²\n\nÐ”Ð²Ð¾Ð¹Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð°\n\nÐ£ÑÐ»Ð¾Ð²Ð½Ñ‹Ñ… Ð²ÐµÑ‚Ð¾Ðº\n\nÐŸÐ°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¾Ð² Ð´Ð»Ñ Ð±Ð°Ð³Ñ„Ð¸ÐºÑÐ¾Ð²\n\nÐ”Ð¾Ð¼ÐµÐ½Ð½Ñ‹Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð° (PROP-1..PROP-10) Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÑŽÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚.\nÐ ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñƒ.\nÐ¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑŽÑ‚ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚, Ð° Ð½Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ.\n\n## Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°\n\n```\nmarkdown_chunker/\nâ”œâ”€â”€ __init__.py          # ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ API (~50 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ types.py             # Ð¢Ð¸Ð¿Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (~300 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ config.py            # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ (~150 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ parser.py            # ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ (~500 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ chunker.py           # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ (~400 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ validator.py         # Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ (~150 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ strategies/\nâ”‚   â”œâ”€â”€ __init__.py      # Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ (~20 ÑÑ‚Ñ€Ð¾Ðº)\nâ”‚   â”œâ”€â”€ base.py          # Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ ÐºÐ»Ð°ÑÑ (~200 ÑÑ‚Ñ€Ð¾Ðº)\nâ”‚   â”œâ”€â”€ code_aware.py    # Ð”Ð»Ñ ÐºÐ¾Ð´Ð° (~400 ÑÑ‚Ñ€Ð¾Ðº)\nâ”‚   â”œâ”€â”€ structural.py    # Ð”Ð»Ñ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñ‹ (~400 ÑÑ‚Ñ€Ð¾Ðº)\nâ”‚   â””â”€â”€ fallback.py      # Fallback (~200 ÑÑ‚Ñ€Ð¾Ðº)\nâ””â”€â”€ utils.py             # Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ (~200 ÑÑ‚Ñ€Ð¾Ðº)\n\ntests/\nâ”œâ”€â”€ conftest.py          # Ð¤Ð¸ÐºÑÑ‚ÑƒÑ€Ñ‹ Ð¸ Ð³ÐµÐ½ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ñ‹ (~200 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ test_properties.py   # Property-based Ñ‚ÐµÑÑ‚Ñ‹ (~500 ÑÑ‚Ñ€Ð¾Ðº)\nâ”œâ”€â”€ test_edge_cases.py   # Edge cases (~200 ÑÑ‚Ñ€Ð¾Ðº)\nâ””â”€â”€ test_integration.py  # Integration (~100 ÑÑ‚Ñ€Ð¾Ðº)\n```\n\nÐ˜Ñ‚Ð¾Ð³Ð¾: ~3,000 ÑÑ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð° + ~1,000 ÑÑ‚Ñ€Ð¾Ðº Ñ‚ÐµÑÑ‚Ð¾Ð²",
        "start_line": 66,
        "end_line": 66,
        "size": 1226,
        "strategy": "structural"
      },
      {
        "content": "Ð˜Ñ‚Ð¾Ð³Ð¾: ~3,000 ÑÑ‚Ñ€Ð¾Ðº ÐºÐ¾Ð´Ð° + ~1,000 ÑÑ‚Ñ€Ð¾Ðº Ñ‚ÐµÑÑ‚Ð¾Ð²\n\n## Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                     markdown_chunker                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                             â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚                  MarkdownChunker                     â”‚   â”‚\nâ”‚  â”‚                    (chunker.py)                      â”‚   â”‚\nâ”‚  â”‚                                                      â”‚   â”‚\nâ”‚  â”‚  chunk(md_text, config) â†’ ChunkingResult            â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚           â”‚                                                 â”‚\nâ”‚           â”‚ uses                                            â”‚\nâ”‚           â–¼                                                 â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚\nâ”‚  â”‚   Parser    â”‚  â”‚  Selector   â”‚  â”‚  Validator  â”‚        â”‚\nâ”‚  â”‚ (parser.py) â”‚  â”‚ (chunker.py)â”‚  â”‚(validator.py)â”‚        â”‚\nâ”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚\nâ”‚  â”‚ +normalize  â”‚  â”‚             â”‚  â”‚ +overlap    â”‚        â”‚\nâ”‚  â”‚  line_ends  â”‚  â”‚             â”‚  â”‚  integrity  â”‚        â”‚\nâ”‚  â”‚             â”‚  â”‚             â”‚  â”‚ +table      â”‚        â”‚\nâ”‚  â”‚             â”‚  â”‚             â”‚  â”‚  integrity  â”‚        â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚\nâ”‚           â”‚              â”‚                                  â”‚\nâ”‚           â”‚              â–¼                                  â”‚\nâ”‚           â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚\nâ”‚           â”‚     â”‚          Strategies              â”‚        â”‚\nâ”‚           â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚\nâ”‚           â”‚     â”‚ CodeAwareStrategy (priority=1)  â”‚        â”‚\nâ”‚           â”‚     â”‚ StructuralStrategy (priority=2) â”‚        â”‚\nâ”‚           â”‚     â”‚ FallbackStrategy (priority=3)   â”‚        â”‚\nâ”‚           â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚\nâ”‚           â”‚                                                 â”‚\nâ”‚           â–¼                                                 â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚\nâ”‚  â”‚                    types.py                          â”‚   â”‚\nâ”‚  â”‚  Chunk, ChunkingResult, ChunkConfig, ContentAnalysis â”‚   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚\nâ”‚                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```",
        "start_line": 93,
        "end_line": 93,
        "size": 2550,
        "strategy": "structural"
      },
      {
        "content": "## ÐŸÐ¾Ñ‚Ð¾Ðº Ð´Ð°Ð½Ð½Ñ‹Ñ…\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ md_text  â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜\n     â”‚\n     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 1. Parse                              â”‚\nâ”‚    Parser.parse(md_text)              â”‚\nâ”‚    â†’ ContentAnalysis                  â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n     â”‚\n     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 2. Select Strategy                    â”‚\nâ”‚    Selector.select(analysis, config)  â”‚\nâ”‚    â†’ Strategy                         â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n     â”‚\n     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 3. Apply Strategy                     â”‚\nâ”‚    strategy.apply(md_text, analysis)  â”‚\nâ”‚    â†’ List[Chunk]                      â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n     â”‚\n     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 4. Post-process                       â”‚\nâ”‚    - Apply overlap                    â”‚\nâ”‚    - Enrich metadata                  â”‚\nâ”‚    - Validate                         â”‚\nâ”‚    â†’ List[Chunk]                      â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n     â”‚\n     â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ 5. Return                             â”‚\nâ”‚    ChunkingResult(chunks, strategy)   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```",
        "start_line": 137,
        "end_line": 137,
        "size": 1215,
        "strategy": "structural"
      },
      {
        "content": "## ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ API\n\n```python\n# markdown_chunker/__init__.py\n\nfrom .chunker import MarkdownChunker\nfrom .config import ChunkConfig\nfrom .types import Chunk, ChunkingResult\n\ndef chunk_text(text: str, config: ChunkConfig = None) -> List[Chunk]:\n    \"\"\"Convenience function.\"\"\"\n    return MarkdownChunker(config).chunk(text).chunks\n\ndef chunk_file(path: str, config: ChunkConfig = None) -> List[Chunk]:\n    \"\"\"Convenience function.\"\"\"\n    with open(path) as f:\n        return chunk_text(f.read(), config)\n\n__all__ = [\n    \"MarkdownChunker\",\n    \"ChunkConfig\", \n    \"Chunk\",\n    \"ChunkingResult\",\n    \"chunk_text\",\n    \"chunk_file\",\n]\n```",
        "start_line": 181,
        "end_line": 181,
        "size": 632,
        "strategy": "structural"
      },
      {
        "content": "## ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚ (Ð´Ð¾Ð¼ÐµÐ½Ð½Ñ‹Ðµ ÑÐ²Ð¾Ð¹ÑÑ‚Ð²Ð°)\n\nÐ›ÑŽÐ±Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€ÑÑ‚ÑŒ:\n\n| # | Ð¡Ð²Ð¾Ð¹ÑÑ‚Ð²Ð¾ | ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ |\n|---|----------|-------------|\n| 1 | No Content Loss | CRITICAL |\n| 2 | Size Bounds | CRITICAL |\n| 3 | Monotonic Ordering | CRITICAL |\n| 4 | No Empty Chunks | CRITICAL |\n| 5 | Valid Line Numbers | CRITICAL |\n| 6 | Code Block Integrity | HIGH |\n| 7 | Table Integrity | HIGH |\n| 8 | Serialization Round-Trip | HIGH |\n| 9 | Idempotence | MEDIUM |\n| 10 | Header Path Correctness | MEDIUM |",
        "start_line": 209,
        "end_line": 209,
        "size": 489,
        "strategy": "structural"
      },
      {
        "content": "Ð›ÑŽÐ±Ð°Ñ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ´Ð¾Ð²Ð»ÐµÑ‚Ð²Ð¾Ñ€ÑÑ‚ÑŒ:\n\n## Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ\n\n### Ð’Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ðµ code blocks (4+ backticks)\n\nMarkdown Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ðµ code blocks Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð±Ð¾Ð»ÑŒÑˆÐµÐ³Ð¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° backticks:\n\n```markdown\n`````markdown\n````python\n```bash\necho \"nested\"\n```\n```\n\n```\n````\n\n**ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ:** Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€ÑÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ regex `^```(\\w*)\\n` Ð¸ Ð¼Ð¾Ð¶ÐµÑ‚ Ð½ÐµÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ðµ Ð±Ð»Ð¾ÐºÐ¸ Ñ 4+ backticks.\n\n**Workarounds:**\n1. Ð˜Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ Ð²Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ… code blocks Ð² Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ… Ð´Ð»Ñ Ñ‡Ð°Ð½ÐºÐ¸Ð½Ð³Ð°\n2. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ indented code blocks Ð²Ð¼ÐµÑÑ‚Ð¾ fenced Ð´Ð»Ñ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¸Ñ… Ð±Ð»Ð¾ÐºÐ¾Ð²\n3. ÐŸÑ€Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸ â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ `strategy_override=\"fallback\"` Ð´Ð»Ñ Ñ‚Ð°ÐºÐ¸Ñ… Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²\n\n### Line endings\n\nÐ¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·ÑƒÐµÑ‚ Ð²ÑÐµ line endings Ðº Unix-ÑÑ‚Ð¸Ð»ÑŽ (`\\n`) Ð² Ð½Ð°Ñ‡Ð°Ð»Ðµ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸. ÐžÑ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ line endings Ð½Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑŽÑ‚ÑÑ.\n```",
        "start_line": 226,
        "end_line": 226,
        "size": 787,
        "strategy": "structural"
      }
    ],
    "total_output_size": 9779
  },
  "structured/developer-guide.md": {
    "input_size": 21673,
    "input_lines": 937,
    "chunk_count": 16,
    "chunks": [
      {
        "content": "# Developer Guide\n\nVersion: 1.4.0\nLast Updated: 2025-11-16\nAudience: Contributors, Maintainers, Advanced Users",
        "start_line": 1,
        "end_line": 1,
        "size": 110,
        "strategy": "structural"
      },
      {
        "content": "## Table of Contents\n\n- Architecture Overview\n- Project Structure\n- Development Setup\n- Adding a New Strategy\n- Running Tests\n- Performance Profiling\n- Coding Standards\n- Contribution Guidelines\n- Release Process\n\n[Architecture Overview](#architecture-overview)\n\n[Project Structure](#project-structure)\n\n[Development Setup](#development-setup)\n\n[Adding a New Strategy](#adding-a-new-strategy)\n\n[Running Tests](#running-tests)\n\n[Performance Profiling](#performance-profiling)\n\n[Coding Standards](#coding-standards)\n\n[Contribution Guidelines](#contribution-guidelines)\n\n[Release Process](#release-process)",
        "start_line": 9,
        "end_line": 9,
        "size": 603,
        "strategy": "structural"
      },
      {
        "content": "[Running Tests](#running-tests)\n\n[Performance Profiling](#performance-profiling)\n\n[Coding Standards](#coding-standards)\n\n[Contribution Guidelines](#contribution-guidelines)\n\n[Release Process](#release-process)\n\n## Architecture Overview\n\n### Two-Stage Pipeline\n\nThe system follows a two-stage architecture:\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    Stage 1: Analysis                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚   Parser     â”‚â†’ â”‚   Content    â”‚â†’ â”‚   Element    â”‚  â”‚\nâ”‚  â”‚  Interface   â”‚  â”‚   Analyzer   â”‚  â”‚   Detector   â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    Stage 2: Chunking                     â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚\nâ”‚  â”‚   Strategy   â”‚â†’ â”‚   Chunking   â”‚â†’ â”‚   Metadata   â”‚  â”‚\nâ”‚  â”‚   Selector   â”‚  â”‚   Strategy   â”‚  â”‚   Enricher   â”‚  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Stage 1: Content Analysis\n\nPurpose: Analyze markdown structure and extract metadata\n\nComponents:\n\n- `ParserInterface`: Main entry point for Stage 1\n- `ContentAnalyzer`: Analyzes content type, complexity, code ratio\n- `ElementDetector`: Detects headers, lists, tables, code blocks\n- `FencedBlockExtractor`: Extracts fenced code blocks\n- `PreambleExtractor`: Extracts document preamble/metadata\n\n`ParserInterface`: Main entry point for Stage 1\n\n`ContentAnalyzer`: Analyzes content type, complexity, code ratio\n\n`ElementDetector`: Detects headers, lists, tables, code blocks\n\n`FencedBlockExtractor`: Extracts fenced code blocks\n\n`PreambleExtractor`: Extracts document preamble/metadata\n\nOutput: `Stage1Results` containing:\n\n- AST (Abstract Syntax Tree)\n- Content analysis metrics\n- Detected elements (code, lists, tables, headers)\n- Preamble information\n\nAST (Abstract Syntax Tree)\n\nContent analysis metrics\n\nDetected elements (code, lists, tables, headers)\n\nPreamble information\n\n### Stage 2: Adaptive Chunking\n\nPurpose: Create semantically meaningful chunks\n\nComponents:\n\n- `MarkdownChunker`: Main orchestrator\n- `StrategySelector`: Selects optimal chunking strategy\n- 6 Chunking Strategies (see below)\n- `OverlapManager`: Adds overlap between chunks\n- `MetadataEnricher`: Enriches chunk metadata\n- `FallbackManager`: Handles errors with fallback chain\n\n`MarkdownChunker`: Main orchestrator\n\n`StrategySelector`: Selects optimal chunking strategy\n\n6 Chunking Strategies (see below)\n\n`OverlapManager`: Adds overlap between chunks\n\n`MetadataEnricher`: Enriches chunk metadata\n\n`FallbackManager`: Handles errors with fallback chain\n\nOutput: List of `Chunk` objects with metadata\n\n### Chunking Strategies\n\n- CodeStrategy - For code-heavy documents (â‰¥70% code)\n- StructuralStrategy - For well-structured documents with headers\n- MixedStrategy - For diverse content with multiple element types\n- ListStrategy - For list-heavy documents (â‰¥5 lists)\n- TableStrategy - For table-heavy documents (â‰¥3 tables)\n- SentencesStrategy - Fallback for simple text\n\nCodeStrategy - For code-heavy documents (â‰¥70% code)\n\nStructuralStrategy - For well-structured documents with headers\n\nMixedStrategy - For diverse content with multiple element types\n\nListStrategy - For list-heavy documents (â‰¥5 lists)\n\nTableStrategy - For table-heavy documents (â‰¥3 tables)\n\nSentencesStrategy - Fallback for simple text\n\nStrategy Selection Algorithm:\n\n```python\nif code_ratio >= 0.7 and code_blocks >= 3:\n    return CodeStrategy()\nelif table_count >= 3:\n    return TableStrategy()\nelif list_count >= 5:\n    return ListStrategy()\nelif complexity_score >= 0.3:\n    return MixedStrategy()\nelif header_count >= 3:\n    return StructuralStrategy()\nelse:\n    return SentencesStrategy()\n```",
        "start_line": 23,
        "end_line": 23,
        "size": 3924,
        "strategy": "structural"
      },
      {
        "content": "MixedStrategy - For diverse content with multiple element types\n\nListStrategy - For list-heavy documents (â‰¥5 lists)\n\nTableStrategy - For table-heavy documents (â‰¥3 tables)\n\nSentencesStrategy - Fallback for simple text\n\nStrategy Selection Algorithm:\n\n## Project Structure\n\n```\ndify-markdown-chunker/\nâ”œâ”€â”€ markdown_chunker/          # Main package\nâ”‚   â”œâ”€â”€ parser/                # Stage 1: Analysis\nâ”‚   â”‚   â”œâ”€â”€ core.py           # ParserInterface, FencedBlockExtractor\nâ”‚   â”‚   â”œâ”€â”€ analyzer.py       # ContentAnalyzer\nâ”‚   â”‚   â”œâ”€â”€ ast.py            # AST builder\nâ”‚   â”‚   â”œâ”€â”€ preamble.py       # PreambleExtractor\nâ”‚   â”‚   â”œâ”€â”€ types.py          # Data structures\nâ”‚   â”‚   â””â”€â”€ utils.py          # Utility functions\nâ”‚   â”œâ”€â”€ chunker/               # Stage 2: Chunking\nâ”‚   â”‚   â”œâ”€â”€ core.py           # MarkdownChunker\nâ”‚   â”‚   â”œâ”€â”€ selector.py       # StrategySelector\nâ”‚   â”‚   â”œâ”€â”€ types.py          # Chunk, ChunkConfig, ChunkingResult\nâ”‚   â”‚   â”œâ”€â”€ strategies/       # Chunking strategies\nâ”‚   â”‚   â”‚   â”œâ”€â”€ base.py       # BaseStrategy\nâ”‚   â”‚   â”‚   â”œâ”€â”€ code_strategy.py\nâ”‚   â”‚   â”‚   â”œâ”€â”€ structural_strategy.py\nâ”‚   â”‚   â”‚   â”œâ”€â”€ mixed_strategy.py\nâ”‚   â”‚   â”‚   â”œâ”€â”€ list_strategy.py\nâ”‚   â”‚   â”‚   â”œâ”€â”€ table_strategy.py\nâ”‚   â”‚   â”‚   â””â”€â”€ sentences_strategy.py\nâ”‚   â”‚   â””â”€â”€ components/       # Supporting components\nâ”‚   â”‚       â”œâ”€â”€ overlap_manager.py\nâ”‚   â”‚       â”œâ”€â”€ metadata_enricher.py\nâ”‚   â”‚       â””â”€â”€ fallback_manager.py\nâ”‚   â””â”€â”€ api/                   # Public API\nâ”‚       â”œâ”€â”€ __init__.py       # chunk_text(), chunk_file()\nâ”‚       â””â”€â”€ types.py          # API types\nâ”œâ”€â”€ tests/                     # Test suite\nâ”‚   â”œâ”€â”€ parser/               # Stage 1 tests\nâ”‚   â”œâ”€â”€ chunker/              # Stage 2 tests\nâ”‚   â”œâ”€â”€ integration/          # Integration tests\nâ”‚   â”œâ”€â”€ fixtures/             # Test data\nâ”‚   â””â”€â”€ regression/           # Regression tests\nâ”œâ”€â”€ docs/                      # Documentation\nâ”‚   â””â”€â”€ markdown-extractor/   # Algorithm documentation\nâ”œâ”€â”€ benchmarks/                # Performance benchmarks\nâ””â”€â”€ examples/                  # Usage examples\n```",
        "start_line": 106,
        "end_line": 106,
        "size": 2022,
        "strategy": "structural"
      },
      {
        "content": "## Development Setup\n\n### Prerequisites\n\n- Python 3.8+\n- pip or poetry\n- git\n\nPython 3.8+\n\npip or poetry\n\ngit\n\n### Installation\n\n```bash\n# Clone repository\ngit clone https://github.com/example/markdown-chunker.git\ncd markdown-chunker\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install in development mode\npip install -e \".[dev]\"\n\n# Install pre-commit hooks (optional)\npre-commit install\n```\n\n### Development Dependencies\n\n```bash\n# Testing\npytest>=7.0.0\npytest-cov>=4.0.0\n\n# Linting\nruff>=0.1.0\nblack>=23.0.0\nmypy>=1.0.0\n\n# Documentation\nsphinx>=5.0.0\nsphinx-rtd-theme>=1.0.0\n```\n\n### IDE Setup\n\nVS Code:\n\n```json\n{\n  \"python.linting.enabled\": true,\n  \"python.linting.ruffEnabled\": true,\n  \"python.formatting.provider\": \"black\",\n  \"python.testing.pytestEnabled\": true\n}\n```\n\nPyCharm:\n\n- Enable pytest as test runner\n- Configure Black as formatter\n- Enable Ruff for linting\n\nEnable pytest as test runner\n\nConfigure Black as formatter\n\nEnable Ruff for linting",
        "start_line": 151,
        "end_line": 151,
        "size": 1029,
        "strategy": "structural"
      },
      {
        "content": "Python 3.8+\n\npip or poetry\n\ngit\n\nVS Code:\n\nPyCharm:\n\n- Enable pytest as test runner\n- Configure Black as formatter\n- Enable Ruff for linting\n\nEnable pytest as test runner\n\nConfigure Black as formatter\n\nEnable Ruff for linting\n\n## Adding a New Strategy\n\n### Step 1: Create Strategy Class\n\nCreate a new file in `markdown_chunker/chunker/strategies/`:\n\n```python\n# markdown_chunker/chunker/strategies/my_strategy.py\n\nfrom typing import List\nfrom ..types import Chunk, ChunkConfig\nfrom ...parser.types import Stage1Results\nfrom .base import BaseStrategy\n\nclass MyStrategy(BaseStrategy):\n    \"\"\"\n    Custom chunking strategy for [describe use case].\n    \n    This strategy is activated when [describe conditions].\n    \"\"\"\n    \n    def __init__(self):\n        super().__init__()\n        self.name = \"my_strategy\"\n        self.priority = 50  # 0-100, higher = higher priority\n    \n    def can_handle(self, analysis, config: ChunkConfig) -> bool:\n        \"\"\"\n        Determine if this strategy can handle the content.\n        \n        Args:\n            analysis: ContentAnalysis from Stage 1\n            config: ChunkConfig with thresholds\n        \n        Returns:\n            True if strategy should be used\n        \"\"\"\n        # Example: activate if document has specific characteristics\n        return (\n            analysis.some_metric > config.some_threshold\n            and analysis.some_count >= 3\n        )\n    \n    def apply(\n        self,\n        text: str,\n        stage1_results: Stage1Results,\n        config: ChunkConfig\n    ) -> List[Chunk]:\n        \"\"\"\n        Apply chunking strategy to create chunks.\n        \n        Args:\n            text: Original markdown text\n            stage1_results: Results from Stage 1 analysis\n            config: Chunking configuration\n        \n        Returns:\n            List of Chunk objects\n        \"\"\"\n        chunks = []\n        \n        # Your chunking logic here\n        # Example: split by some criteria\n        sections = self._split_into_sections(text)\n        \n        for i, section in enumerate(sections):\n            chunk = Chunk(\n                content=section[\"content\"],\n                start_line=section[\"start_line\"],\n                end_line=section[\"end_line\"],\n                metadata={\n                    \"strategy\": self.name,\n                    \"content_type\": \"custom\",\n                    \"section_index\": i,\n                }\n            )\n            chunks.append(chunk)\n        \n        return chunks\n    \n    def _split_into_sections(self, text: str):\n        \"\"\"Helper method for splitting logic.\"\"\"\n        # Implement your splitting logic\n        pass\n```",
        "start_line": 215,
        "end_line": 299,
        "size": 2639,
        "strategy": "structural"
      },
      {
        "content": "Create a new file in `markdown_chunker/chunker/strategies/`:\n\n## Adding a New Strategy\n\n### Step 2: Register Strategy\n\nAdd to `MarkdownChunker.__init__()`:\n\n```python\n# markdown_chunker/chunker/core.py\n\nfrom .strategies import MyStrategy\n\nclass MarkdownChunker:\n    def __init__(self, config=None):\n        # ... existing code ...\n        \n        self._strategies: List[BaseStrategy] = [\n            CodeStrategy(),\n            MixedStrategy(),\n            ListStrategy(),\n            TableStrategy(),\n            StructuralStrategy(),\n            SentencesStrategy(),\n            MyStrategy(),  # Add your strategy\n        ]\n```\n\nAdd to `MarkdownChunker.__init__()`:\n\n## Adding a New Strategy\n\n### Step 3: Add Tests\n\nCreate test file `tests/chunker/strategies/test_my_strategy.py`:\n\n```python\nimport pytest\nfrom markdown_chunker.chunker.strategies.my_strategy import MyStrategy\nfrom markdown_chunker.chunker.types import ChunkConfig\nfrom markdown_chunker.parser import ParserInterface\n\nclass TestMyStrategy:\n    \"\"\"Tests for MyStrategy.\"\"\"\n    \n    @pytest.fixture\n    def strategy(self):\n        return MyStrategy()\n    \n    @pytest.fixture\n    def parser(self):\n        return ParserInterface()\n    \n    def test_can_handle_appropriate_content(self, strategy):\n        \"\"\"Test that strategy activates for appropriate content.\"\"\"\n        # Create mock analysis\n        from markdown_chunker.parser.types import ContentAnalysis\n        \n        analysis = ContentAnalysis(\n            content_type=\"custom\",\n            some_metric=0.8,\n            some_count=5,\n            # ... other required fields\n        )\n        \n        config = ChunkConfig()\n        assert strategy.can_handle(analysis, config)\n    \n    def test_apply_creates_chunks(self, strategy, parser):\n        \"\"\"Test that strategy creates valid chunks.\"\"\"\n        text = \"\"\"\n# Test Document\n\nContent for testing.\n\"\"\"\n        \n        stage1_results = parser.process_document(text)\n        config = ChunkConfig()\n        \n        chunks = strategy.apply(text, stage1_results, config)\n        \n        assert len(chunks) > 0\n        assert all(isinstance(c, Chunk) for c in chunks)\n        assert all(c.metadata[\"strategy\"] == \"my_strategy\" for c in chunks)\n```",
        "start_line": 301,
        "end_line": 378,
        "size": 2230,
        "strategy": "structural"
      },
      {
        "content": "Create test file `tests/chunker/strategies/test_my_strategy.py`:\n\n## Adding a New Strategy\n\n### Step 4: Update Documentation\n\nAdd strategy documentation to:\n\n- `README.md` - Brief description\n- `docs/ALGORITHM_MAPPING.md` - Implementation details\n- This guide - Usage examples\n\n`README.md` - Brief description\n\n`docs/ALGORITHM_MAPPING.md` - Implementation details\n\nThis guide - Usage examples",
        "start_line": 380,
        "end_line": 386,
        "size": 392,
        "strategy": "structural"
      },
      {
        "content": "`README.md` - Brief description\n\n`docs/ALGORITHM_MAPPING.md` - Implementation details\n\nThis guide - Usage examples\n\n## Running Tests\n\n### Run All Tests\n\n```bash\npytest\n```\n\n### Run Specific Test File\n\n```bash\npytest tests/chunker/test_core.py\n```\n\n### Run Specific Test\n\n```bash\npytest tests/chunker/test_core.py::TestMarkdownChunker::test_chunk_basic\n```\n\n### Run with Coverage\n\n```bash\npytest --cov=markdown_chunker --cov-report=html\n```\n\nView coverage report: `open htmlcov/index.html`\n\n### Run Integration Tests Only\n\n```bash\npytest tests/integration/\n```\n\n### Run Performance Tests\n\n```bash\npytest tests/integration/test_performance_full_pipeline.py -v\n```\n\n### Run Tests in Parallel\n\n```bash\npytest -n auto  # Requires pytest-xdist\n```\n\n### Test Categories\n\n- Unit Tests (`tests/parser/`, `tests/chunker/`): Test individual components\n- Integration Tests (`tests/integration/`): Test full pipeline\n- Regression Tests (`tests/regression/`): Prevent known bugs\n- Performance Tests (`tests/integration/test_performance_*.py`): Verify performance\n\nUnit Tests (`tests/parser/`, `tests/chunker/`): Test individual components\n\nIntegration Tests (`tests/integration/`): Test full pipeline\n\nRegression Tests (`tests/regression/`): Prevent known bugs\n\nPerformance Tests (`tests/integration/test_performance_*.py`): Verify performance",
        "start_line": 389,
        "end_line": 389,
        "size": 1329,
        "strategy": "structural"
      },
      {
        "content": "Unit Tests (`tests/parser/`, `tests/chunker/`): Test individual components\n\nIntegration Tests (`tests/integration/`): Test full pipeline\n\nRegression Tests (`tests/regression/`): Prevent known bugs\n\nPerformance Tests (`tests/integration/test_performance_*.py`): Verify performance\n\n## Performance Profiling\n\n### Using cProfile\n\n```python\nimport cProfile\nimport pstats\nfrom markdown_chunker import MarkdownChunker\n\ndef profile_chunking():\n    chunker = MarkdownChunker()\n    with open(\"large_document.md\") as f:\n        content = f.read()\n    \n    chunker.chunk(content)\n\n# Profile\ncProfile.run('profile_chunking()', 'profile_stats')\n\n# Analyze\nstats = pstats.Stats('profile_stats')\nstats.sort_stats('cumulative')\nstats.print_stats(20)  # Top 20 functions\n```\n\n### Using py-spy\n\n```bash\n# Install py-spy\npip install py-spy\n\n# Profile running process\npy-spy record -o profile.svg -- python your_script.py\n\n# View flame graph\nopen profile.svg\n```\n\n### Built-in Performance Monitoring\n\n```python\nfrom markdown_chunker import MarkdownChunker\n\nchunker = MarkdownChunker(enable_performance_monitoring=True)\nchunks = chunker.chunk(content)\n\n# Get stats\nstats = chunker.get_performance_stats()\nprint(f\"Chunk time: {stats['chunk']['avg_time']:.3f}s\")\nprint(f\"Analysis time: {stats['analysis']['avg_time']:.3f}s\")\n```\n\n### Benchmarking\n\n```bash\n# Run benchmarks\npython benchmarks/benchmark_chunker.py\n\n# Compare strategies\npython benchmarks/compare_strategies.py\n```",
        "start_line": 444,
        "end_line": 444,
        "size": 1454,
        "strategy": "structural"
      },
      {
        "content": "## Coding Standards\n\n### Style Guide\n\n- Follow PEP 8\n- Use Black for formatting (line length: 88)\n- Use Ruff for linting\n- Type hints for all public APIs\n\nFollow PEP 8\n\nUse Black for formatting (line length: 88)\n\nUse Ruff for linting\n\nType hints for all public APIs\n\n### Naming Conventions\n\n- Classes: `PascalCase`\n- Functions/methods: `snake_case`\n- Constants: `UPPER_SNAKE_CASE`\n- Private methods: `_leading_underscore`\n\nClasses: `PascalCase`\n\nFunctions/methods: `snake_case`\n\nConstants: `UPPER_SNAKE_CASE`\n\nPrivate methods: `_leading_underscore`\n\n### Docstring Format\n\nUse Google-style docstrings:\n\n```python\ndef function_name(param1: str, param2: int) -> bool:\n    \"\"\"\n    Brief description of function.\n    \n    Longer description if needed. Explain what the function does,\n    when to use it, and any important details.\n    \n    Args:\n        param1: Description of param1\n        param2: Description of param2\n    \n    Returns:\n        Description of return value\n    \n    Raises:\n        ValueError: When param1 is invalid\n        TypeError: When param2 is wrong type\n    \n    Examples:\n        >>> result = function_name(\"test\", 42)\n        >>> print(result)\n        True\n    \n    See Also:\n        - related_function(): Related functionality\n        - OtherClass: Related class\n    \n    Notes:\n        - Important implementation detail\n        - Performance consideration\n    \"\"\"\n    pass\n```\n\n### Type Hints\n\n```python\nfrom typing import List, Dict, Optional, Union\n\ndef process_chunks(\n    chunks: List[Chunk],\n    config: Optional[ChunkConfig] = None\n) -> Dict[str, Union[int, float]]:\n    \"\"\"Process chunks and return statistics.\"\"\"\n    pass\n```\n\n### Error Handling\n\n```python\n# Use specific exceptions\nfrom markdown_chunker.chunker.selector import StrategySelectionError\n\nif strategy not in valid_strategies:\n    raise StrategySelectionError(\n        f\"Invalid strategy '{strategy}'. \"\n        f\"Valid strategies: {valid_strategies}\"\n    )\n\n# Provide helpful error messages\nif not text.strip():\n    raise ValueError(\n        \"Input text is empty or whitespace-only. \"\n        \"Please provide valid markdown content.\"\n    )\n```",
        "start_line": 508,
        "end_line": 508,
        "size": 2141,
        "strategy": "structural"
      },
      {
        "content": "- Classes: `PascalCase`\n- Functions/methods: `snake_case`\n- Constants: `UPPER_SNAKE_CASE`\n- Private methods: `_leading_underscore`\n\nClasses: `PascalCase`\n\nFunctions/methods: `snake_case`\n\nConstants: `UPPER_SNAKE_CASE`\n\nPrivate methods: `_leading_underscore`\n\nUse Google-style docstrings:\n\n## Contribution Guidelines\n\n### Before Contributing\n\n- Check existing issues and PRs\n- Discuss major changes in an issue first\n- Read this guide thoroughly\n- Set up development environment\n\nCheck existing issues and PRs\n\nDiscuss major changes in an issue first\n\nRead this guide thoroughly\n\nSet up development environment\n\n### Contribution Process\n\n- Fork and Clone git clone https://github.com/YOUR_USERNAME/markdown-chunker.git\ncd markdown-chunker\ngit remote add upstream https://github.com/example/markdown-chunker.git\n- Create Branch git checkout -b feature/my-feature\n# or\ngit checkout -b fix/bug-description\n- Make Changes\n- Write code\n- Add tests\n- Update documentation\n- Run linter: `ruff check .`\n- Format code: `black .`\n- Test pytest\npytest --cov=markdown_chunker\n- Commit git add .\ngit commit -m \"feat: add new feature\"\n# or\ngit commit -m \"fix: resolve bug in strategy selection\" Commit Message Format:\n- `feat:` New feature\n- `fix:` Bug fix\n- `docs:` Documentation\n- `test:` Tests\n- `refactor:` Code refactoring\n- `perf:` Performance improvement\n- `chore:` Maintenance\n- Push and PR git push origin feature/my-feature Create PR on GitHub with:\n- Clear title and description\n- Link to related issue\n- Screenshots if UI changes\n- Test results\n\nFork and Clone\n\n```bash\ngit clone https://github.com/YOUR_USERNAME/markdown-chunker.git\ncd markdown-chunker\ngit remote add upstream https://github.com/example/markdown-chunker.git\n```\n\nCreate Branch\n\n```bash\ngit checkout -b feature/my-feature\n# or\ngit checkout -b fix/bug-description\n```\n\nMake Changes\n\n- Write code\n- Add tests\n- Update documentation\n- Run linter: `ruff check .`\n- Format code: `black .`\n\nWrite code\n\nAdd tests\n\nUpdate documentation\n\nRun linter: `ruff check .`\n\nFormat code: `black .`\n\nTest\n\n```bash\npytest\npytest --cov=markdown_chunker\n```\n\nCommit\n\n```bash\ngit add .\ngit commit -m \"feat: add new feature\"\n# or\ngit commit -m \"fix: resolve bug in strategy selection\"\n```\n\nCommit Message Format:\n\n- `feat:` New feature\n- `fix:` Bug fix\n- `docs:` Documentation\n- `test:` Tests\n- `refactor:` Code refactoring\n- `perf:` Performance improvement\n- `chore:` Maintenance\n\n`feat:` New feature\n\n`fix:` Bug fix\n\n`docs:` Documentation\n\n`test:` Tests\n\n`refactor:` Code refactoring\n\n`perf:` Performance improvement\n\n`chore:` Maintenance\n\nPush and PR\n\n```bash\ngit push origin feature/my-feature\n```\n\nCreate PR on GitHub with:\n\n- Clear title and description\n- Link to related issue\n- Screenshots if UI changes\n- Test results\n\nClear title and description\n\nLink to related issue\n\nScreenshots if UI changes\n\nTest results\n\n### Code Review\n\n- Address reviewer feedback\n- Keep PR focused and small\n- Update tests if needed\n- Maintain backward compatibility\n\nAddress reviewer feedback\n\nKeep PR focused and small\n\nUpdate tests if needed\n\nMaintain backward compatibility",
        "start_line": 598,
        "end_line": 598,
        "size": 3104,
        "strategy": "structural"
      },
      {
        "content": "- Address reviewer feedback\n- Keep PR focused and small\n- Update tests if needed\n- Maintain backward compatibility\n\nAddress reviewer feedback\n\nKeep PR focused and small\n\nUpdate tests if needed\n\nMaintain backward compatibility\n\n## Release Process\n\n### Version Numbering\n\nFollow Semantic Versioning (SemVer):\n\n- `MAJOR.MINOR.PATCH`\n- `1.2.3` â†’ `1.2.4` (patch: bug fixes)\n- `1.2.3` â†’ `1.3.0` (minor: new features, backward compatible)\n- `1.2.3` â†’ `2.0.0` (major: breaking changes)\n\n`MAJOR.MINOR.PATCH`\n\n`1.2.3` â†’ `1.2.4` (patch: bug fixes)\n\n`1.2.3` â†’ `1.3.0` (minor: new features, backward compatible)\n\n`1.2.3` â†’ `2.0.0` (major: breaking changes)\n\n### Release Checklist\n\n- Update Version\n- `pyproject.toml`\n- `markdown_chunker/__init__.py`\n- `CHANGELOG.md`\n- Run Full Test Suite pytest\npytest --cov=markdown_chunker\n- Update Documentation\n- README.md\n- CHANGELOG.md\n- API documentation\n- Create Release git tag -a v1.2.3 -m \"Release v1.2.3\"\ngit push origin v1.2.3\n- Build and Publish python -m build\npython -m twine upload dist/*\n- Create GitHub Release\n- Tag: `v1.2.3`\n- Title: `Version 1.2.3`\n- Description: Copy from CHANGELOG.md\n\nUpdate Version\n\n- `pyproject.toml`\n- `markdown_chunker/__init__.py`\n- `CHANGELOG.md`\n\n`pyproject.toml`\n\n`markdown_chunker/__init__.py`\n\n`CHANGELOG.md`\n\nRun Full Test Suite\n\n```bash\npytest\npytest --cov=markdown_chunker\n```\n\nUpdate Documentation\n\n- README.md\n- CHANGELOG.md\n- API documentation\n\nREADME.md\n\nCHANGELOG.md\n\nAPI documentation\n\nCreate Release\n\n```bash\ngit tag -a v1.2.3 -m \"Release v1.2.3\"\ngit push origin v1.2.3\n```\n\nBuild and Publish\n\n```bash\npython -m build\npython -m twine upload dist/*\n```\n\nCreate GitHub Release\n\n- Tag: `v1.2.3`\n- Title: `Version 1.2.3`\n- Description: Copy from CHANGELOG.md\n\nTag: `v1.2.3`\n\nTitle: `Version 1.2.3`\n\nDescription: Copy from CHANGELOG.md",
        "start_line": 673,
        "end_line": 673,
        "size": 1813,
        "strategy": "structural"
      },
      {
        "content": "Create Release\n\nBuild and Publish\n\nCreate GitHub Release\n\n- Tag: `v1.2.3`\n- Title: `Version 1.2.3`\n- Description: Copy from CHANGELOG.md\n\nTag: `v1.2.3`\n\nTitle: `Version 1.2.3`\n\nDescription: Copy from CHANGELOG.md\n\n## Debugging with Logs\n\n### Enabling Logging\n\nUse logging to debug and monitor the chunking process:\n\n```python\nimport logging\n\n# Basic setup - show INFO and above\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\nfrom markdown_chunker import MarkdownChunker\n\nchunker = MarkdownChunker()\nchunks = chunker.chunk(markdown_text)\n```\n\n### Custom Logging Configuration\n\n```python\nfrom markdown_chunker.logging_config import setup_logging\n\n# Setup with custom level\nlogger = setup_logging(level=\"DEBUG\")\n\n# Or with custom format\nlogger = setup_logging(\n    level=\"INFO\",\n    format=\"%(levelname)s - %(name)s - %(message)s\"\n)\n```\n\n### Log Levels and Content\n\nDEBUG - Detailed information for diagnosing problems:\n\n- Element counts (code blocks, lists, tables, headers)\n- Strategy metrics (can_handle, quality_score)\n- Chunk statistics (sizes, counts)\n\nElement counts (code blocks, lists, tables, headers)\n\nStrategy metrics (can_handle, quality_score)\n\nChunk statistics (sizes, counts)\n\nINFO - Confirmation that things are working:\n\n- Chunking start (text_length, strategy, config)\n- Stage 1 analysis results (content_type, total_chars, total_lines)\n- Strategy selection (name, reason, score)\n- Chunking completion (chunks_count, processing_time)\n\nChunking start (text_length, strategy, config)\n\nStage 1 analysis results (content_type, total_chars, total_lines)\n\nStrategy selection (name, reason, score)\n\nChunking completion (chunks_count, processing_time)\n\nWARNING - Indication of potential issues:\n\n- Fallback events (level, final_strategy)\n- Oversized chunks\n- Configuration adjustments\n\nFallback events (level, final_strategy)\n\nOversized chunks\n\nConfiguration adjustments\n\nERROR - Serious problems:\n\n- Stage 1 processing failures\n- Strategy application errors\n- Emergency chunking activation\n\nStage 1 processing failures\n\nStrategy application errors\n\nEmergency chunking activation\n\n### Debugging Specific Components\n\n```python\nimport logging\n\n# Debug only the chunker\nlogging.getLogger(\"markdown_chunker.chunker\").setLevel(logging.DEBUG)\n\n# Debug only strategies\nlogging.getLogger(\"markdown_chunker.chunker.strategies\").setLevel(logging.DEBUG)\n\n# Debug only parser\nlogging.getLogger(\"markdown_chunker.parser\").setLevel(logging.DEBUG)\n```\n\n### Logging in Tests\n\n```python\ndef test_with_logging(caplog):\n    \"\"\"Test with log capture.\"\"\"\n    import logging\n    \n    with caplog.at_level(logging.INFO):\n        chunker = MarkdownChunker()\n        chunks = chunker.chunk(\"# Test\")\n    \n    # Check logs\n    assert \"Starting chunking\" in caplog.text\n    assert \"Chunking complete\" in caplog.text\n```",
        "start_line": 720,
        "end_line": 720,
        "size": 2867,
        "strategy": "structural"
      },
      {
        "content": "ERROR - Serious problems:\n\n- Stage 1 processing failures\n- Strategy application errors\n- Emergency chunking activation\n\nStage 1 processing failures\n\nStrategy application errors\n\nEmergency chunking activation\n\n## Type Checking\n\n### Running mypy\n\nCheck types across the codebase:\n\n```bash\n# Check all code\nmypy markdown_chunker/\n\n# Check specific module\nmypy markdown_chunker/chunker/\n\n# With error codes\nmypy markdown_chunker/ --show-error-codes\n\n# Strict mode (gradually enable)\nmypy markdown_chunker/ --strict\n```\n\n### Common Type Issues\n\nMissing return type:\n\n```python\n# Before\ndef process(text):\n    return text.upper()\n\n# After\ndef process(text: str) -> str:\n    return text.upper()\n```\n\nOptional parameters:\n\n```python\n# Before\ndef func(config: ChunkConfig = None):\n    ...\n\n# After\nfrom typing import Optional\n\ndef func(config: Optional[ChunkConfig] = None):\n    ...\n```\n\nList/Dict annotations:\n\n```python\n# Before\nitems = []\n\n# After\nfrom typing import List\n\nitems: List[str] = []\n```\n\n### Type Hints Best Practices\n\n- Always annotate public APIs: def chunk(self, text: str, config: Optional[ChunkConfig] = None) -> List[Chunk]:\n    ...\n- Use Optional for nullable values: parent: Optional[HeaderInfo] = None\n- Annotate complex types: metadata: Dict[str, Any] = {}\n- Document type: ignore: result = some_function()  # type: ignore[no-any-return]  # TODO: Fix upstream\n\nAlways annotate public APIs:\n\n```python\ndef chunk(self, text: str, config: Optional[ChunkConfig] = None) -> List[Chunk]:\n    ...\n```\n\nUse Optional for nullable values:\n\n```python\nparent: Optional[HeaderInfo] = None\n```\n\nAnnotate complex types:\n\n```python\nmetadata: Dict[str, Any] = {}\n```\n\nDocument type: ignore:\n\n```python\nresult = some_function()  # type: ignore[no-any-return]  # TODO: Fix upstream\n```\n\n### IDE Integration\n\nVS Code:\n\n```json\n{\n  \"python.linting.mypyEnabled\": true,\n  \"python.linting.mypyArgs\": [\n    \"--ignore-missing-imports\",\n    \"--show-error-codes\"\n  ]\n}\n```\n\nPyCharm:\n\n- Settings â†’ Tools â†’ Python Integrated Tools â†’ Type Checker: mypy\n- Enable \"Run mypy on save\"\n\nSettings â†’ Tools â†’ Python Integrated Tools â†’ Type Checker: mypy\n\nEnable \"Run mypy on save\"",
        "start_line": 812,
        "end_line": 812,
        "size": 2157,
        "strategy": "structural"
      },
      {
        "content": "Document type: ignore:\n\nVS Code:\n\nPyCharm:\n\n- Settings â†’ Tools â†’ Python Integrated Tools â†’ Type Checker: mypy\n- Enable \"Run mypy on save\"\n\nSettings â†’ Tools â†’ Python Integrated Tools â†’ Type Checker: mypy\n\nEnable \"Run mypy on save\"\n\n## Additional Resources\n\n### Documentation\n\n- - Project overview\n- - Algorithm implementation details\n- - Complete API documentation\n- - System architecture and design\n\n[README.md](../../README.md)\n\n[Algorithm Documentation](../reference/algorithms.md)\n\n[API Reference](../api/README.md)\n\n[Architecture Documentation](../architecture/README.md)\n\n### Community\n\n- GitHub Issues: Bug reports and feature requests\n- Discussions: Questions and ideas\n- Discord: Real-time chat (https://discord.gg/example)\n\nGitHub Issues: Bug reports and feature requests\n\nDiscussions: Questions and ideas\n\nDiscord: Real-time chat (https://discord.gg/example)\n\n### Related Projects\n\n- - Text splitters\n- - Document processors\n- - Chunking strategies\n\n[LangChain](https://python.langchain.com/)\n\n[LlamaIndex](https://www.llamaindex.ai/)\n\n[Semantic Kernel](https://github.com/microsoft/semantic-kernel)\n\nQuestions? Open an issue or join our Discord!\n\nHappy coding! ðŸš€",
        "start_line": 911,
        "end_line": 911,
        "size": 1173,
        "strategy": "structural"
      }
    ],
    "total_output_size": 28987
  }
}