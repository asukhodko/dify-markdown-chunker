# Mapping –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ê–ª–≥–æ—Ä–∏—Ç–º–∞ –Ω–∞ –†–µ–∞–ª–∏–∑–∞—Ü–∏—é

**–î–∞—Ç–∞:** 2025-11-16  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è

---

## 1. –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–≤—è–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `docs/markdown-extractor/` —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ `dify-markdown-chunker/`.

**–¶–µ–ª—å:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏–ª–∏ —è–≤–Ω–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ "–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è".

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: `docs/markdown-extractor/`
- –í–µ—Ä—Å–∏—è: 2.1 (Consolidated + Enhanced)
- –§–∞–π–ª–æ–≤: 48
- –†–∞–∑–¥–µ–ª–æ–≤: 10
- –ö–∞—á–µ—Å—Ç–≤–æ: 99/100

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 2.1. Extractor (–ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/02-algorithm-core/pipeline.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/core.py`
- –ö–ª–∞—Å—Å: `MarkdownChunker`
- –ú–µ—Ç–æ–¥—ã:
  - `chunk(text, config, include_analysis)` - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥
  - `chunk_with_analysis(text)` - —Å –ø–æ–ª–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º
  - `chunk_simple(text, config)` - —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π API

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_chunker.py` (20 —Ç–µ—Å—Ç–æ–≤)
- `tests/chunker/test_integration.py` (16 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚úÖ –í—ã–∑–æ–≤ ContentAnalyzer
- ‚úÖ –í—ã–∑–æ–≤ StrategySelector
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

---

### 2.2. ContentAnalyzer (–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/content-analyzer.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/parser/analyzer.py`
- –ö–ª–∞—Å—Å: `ContentAnalyzer`
- –ú–µ—Ç–æ–¥—ã:
  - `analyze_content(text)` - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
  - `_calculate_complexity(...)` - —Ä–∞—Å—á—ë—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  - `_detect_content_type(...)` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–¢–µ—Å—Ç—ã:**
- `tests/parser/test_analyzer.py` (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –≤ `tests/integration/`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (code-heavy, text-heavy, mixed)
- ‚úÖ –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ (code_ratio, list_count, table_count)
- ‚úÖ –†–∞—Å—á—ë—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç `ContentAnalysis` —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚ö†Ô∏è Preamble extraction - —á–∞—Å—Ç–∏—á–Ω–æ (—Å–º. —Ä–∞–∑–¥–µ–ª 3.1)

---

### 2.3. StrategySelector (–í—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/strategy-selector.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/selector.py`
- –ö–ª–∞—Å—Å: `StrategySelector`
- –ú–µ—Ç–æ–¥—ã:
  - `select_strategy(analysis, config)` - –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
  - `get_applicable_strategies(...)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - `_calculate_strategy_score(...)` - —Ä–∞—Å—á—ë—Ç –æ—Ü–µ–Ω–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategy_selector.py` (30+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –†–∞—Å—á—ë—Ç –æ—Ü–µ–Ω–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ strict –∏ weighted —Ä–µ–∂–∏–º–æ–≤
- ‚úÖ Fallback –∫ SentencesStrategy
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞

---

## 3. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –†–∞–∑–±–∏–µ–Ω–∏—è

### 3.1. CodeStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/code-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/code_strategy.py`
- –ö–ª–∞—Å—Å: `CodeStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 1 (–≤—ã—Å—à–∏–π)

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- code_ratio ‚â• 70% (0.7)
- ‚â•3 –±–ª–æ–∫–æ–≤ –∫–æ–¥–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å):**
- –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç: `CODE_RATIO_THRESHOLD`, `MIN_CODE_BLOCKS`
- –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_code_strategy.py` (25 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `CODE_RATIO_THRESHOLD = 0.7` (–ù–ï 0.35 –∏–ª–∏ 0.4)

---

### 3.2. MixedStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/mixed-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/mixed_strategy.py`
- –ö–ª–∞—Å—Å: `MixedStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 2

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- code_ratio ‚â• 30% (0.3)
- complexity ‚â• 0.3

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_mixed_strategy.py` (30+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤

---

### 3.3. ListStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/list-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/list_strategy.py`
- –ö–ª–∞—Å—Å: `ListStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 3

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- ‚â•5 —Å–ø–∏—Å–∫–æ–≤ (–ù–ï 3!)

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_list_strategy.py` (40+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–∞

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `MIN_LIST_COUNT = 5` (–ù–ï 3)

---

### 3.4. TableStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/table-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/table_strategy.py`
- –ö–ª–∞—Å—Å: `TableStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 4

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- ‚â•3 —Ç–∞–±–ª–∏—Ü—ã

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_table_strategy.py` (30+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

### 3.5. StructuralStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/structural-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/structural_strategy.py`
- –ö–ª–∞—Å—Å: `StructuralStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 5

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- –ï—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_structural_strategy.py` (30+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

### 3.6. SentencesStrategy

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/03-strategies/sentences-strategy.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/strategies/sentences_strategy.py`
- –ö–ª–∞—Å—Å: `SentencesStrategy`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: 6 (–Ω–∏–∑—à–∏–π, fallback)

**–ê–∫—Ç–∏–≤–∞—Ü–∏—è (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- –í—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω–∏–º–∞ (fallback)

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_strategies/test_sentences_strategy.py` (20+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –°–∏—Å—Ç–µ–º—ã

### 4.1. PreambleHandler

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/preamble-handler.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: ‚ùå –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢
- –û–∂–∏–¥–∞–µ—Ç—Å—è: `markdown_chunker/parser/preamble.py`
- –ö–ª–∞—Å—Å: `PreambleExtractor` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–æ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ preamble (introduction, summary, metadata, general)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (Author:, Date:, Version:, etc.)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ContentAnalyzer
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MarkdownChunker

**–¢–µ—Å—Ç—ã:**
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã)

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–î–µ–π—Å—Ç–≤–∏–µ:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `PreambleExtractor` (–ó–∞–¥–∞—á–∞ 2)

---

### 4.2. OverlapProcessor

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/overlap-processor.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/components/overlap_manager.py`
- –ö–ª–∞—Å—Å: `OverlapManager`
- –ú–µ—Ç–æ–¥—ã:
  - `apply_overlap(chunks, config)` - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
  - `_extract_suffix_overlap(...)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—É—Ñ—Ñ–∏–∫—Å–∞
  - `_extract_prefix_overlap(...)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–∞

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_components/test_overlap_manager.py` (30+ —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —á–∞–Ω–∫–æ–≤ (200-300 —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ Sentence-aware –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ overlap –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

### 4.3. FallbackManager (ErrorHandler)

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/error-handler.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/components/fallback.py`
- –ö–ª–∞—Å—Å: `FallbackManager`
- –ú–µ—Ç–æ–¥—ã:
  - `execute_with_fallback(...)` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å fallback
  - `_try_structural_fallback(...)` - fallback –Ω–∞ structural
  - `_try_sentences_fallback(...)` - fallback –Ω–∞ sentences
  - `_emergency_chunking(...)` - –∞–≤–∞—Ä–∏–π–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_components/test_fallback_manager.py` (25 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ 4-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–∫–∞—Ç–æ–≤
- ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ fallback
- ‚úÖ Emergency chunking

---

### 4.4. MetadataEnricher

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/metadata-enricher.md` (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/components/metadata.py`
- –ö–ª–∞—Å—Å: `MetadataEnricher`
- –ú–µ—Ç–æ–¥—ã:
  - `enrich_chunks(chunks, ...)` - –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
  - `_calculate_content_statistics(...)` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - `_add_searchability_metadata(...)` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–∏—Å–∫–∞

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_components/test_metadata_enricher.py` (20 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 5. –ü–∞—Ä—Å–∏–Ω–≥ –∏ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ

### 5.1. Fenced Block Extraction

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/06-algorithms/parsing.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/parser/core.py`
- –ö–ª–∞—Å—Å: `FencedBlockExtractor`
- –ú–µ—Ç–æ–¥—ã:
  - `extract_blocks(text)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤
  - `_detect_fence_type(line)` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è
  - `_calculate_nesting_level(...)` - —Ä–∞—Å—á—ë—Ç —É—Ä–æ–≤–Ω—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏

**–¢–µ—Å—Ç—ã:**
- `tests/parser/test_fenced_block_extractor.py` (20 —Ç–µ—Å—Ç–æ–≤)
- `tests/parser/test_nested_fence_handling.py` (12 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ``` –∏ ~~~
- ‚úÖ –í–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (1-based API)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã—Ö –±–ª–æ–∫–æ–≤

---

### 5.2. AST Building

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/06-algorithms/parsing.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/parser/ast.py`
- –ö–ª–∞—Å—Å: `ASTBuilder`
- –ú–µ—Ç–æ–¥—ã:
  - `build(text)` - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AST
  - `_process_token(token)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–∫–µ–Ω–∞

**–¢–µ—Å—Ç—ã:**
- `tests/parser/test_ast_new.py` (30 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ AST –∏–∑ markdown-it-py
- ‚úÖ Inline tokens
- ‚úÖ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è —É–∑–ª–æ–≤

---

### 5.3. Element Detection

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/06-algorithms/detection.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/parser/elements.py`
- –ö–ª–∞—Å—Å: `ElementDetector`
- –ú–µ—Ç–æ–¥—ã:
  - `detect_lists(text)` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
  - `detect_tables(text)` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
  - `detect_headers(text)` - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

**–¢–µ—Å—Ç—ã:**
- `tests/parser/test_element_detector.py` (15 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 6. –°—Ç—Ä—É–∫—Ç—É—Ä—ã –î–∞–Ω–Ω—ã—Ö

### 6.1. Chunk

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/05-data-structures/chunk.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/types.py`
- –ö–ª–∞—Å—Å: `Chunk` (dataclass)
- –ü–æ–ª—è:
  - `content: str`
  - `content_type: ContentType`
  - `start_line: int`
  - `end_line: int`
  - `size: int`
  - `metadata: dict`

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_types.py` (10 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (to_dict, from_dict)

---

### 6.2. ChunkConfig

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/05-data-structures/config.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/types.py`
- –ö–ª–∞—Å—Å: `ChunkConfig` (dataclass)
- –ü–æ–ª—è:
  - `max_chunk_size: int`
  - `min_chunk_size: int`
  - `enable_overlap: bool`
  - `overlap_size: int`
  - `extract_preamble: bool`
  - –ò –¥—Ä—É–≥–∏–µ...

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_types.py` (10 —Ç–µ—Å—Ç–æ–≤)
- `tests/chunker/test_config_profiles.py` (5 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ:**
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –§–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã (for_api_docs, for_code_docs, etc.)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `enable_overlap=True` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

---

### 6.3. ContentAnalysis

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/05-data-structures/analysis.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/parser/types.py`
- –ö–ª–∞—Å—Å: `ContentAnalysis` (dataclass)
- –ü–æ–ª—è:
  - `content_type: str`
  - `code_ratio: float`
  - `list_count: int`
  - `table_count: int`
  - `complexity_score: float`
  - `preamble: PreambleInfo | None` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ)

**–¢–µ—Å—Ç—ã:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ–π—Å—Ç–≤–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `preamble` (–ó–∞–¥–∞—á–∞ 2)

---

## 7. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 7.1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/07-configuration/parameters.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/types.py`
- –ö–ª–∞—Å—Å: `ChunkConfig`

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–î–µ–π—Å—Ç–≤–∏—è:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

### 7.2. –ü—Ä–æ—Ñ–∏–ª–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/07-configuration/profiles.md`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –§–∞–π–ª: `markdown_chunker/chunker/types.py`
- –ú–µ—Ç–æ–¥—ã: `ChunkConfig.for_api_docs()`, `for_code_docs()`, etc.

**–¢–µ—Å—Ç—ã:**
- `tests/chunker/test_config_profiles.py` (5 —Ç–µ—Å—Ç–æ–≤)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## 8. –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 8.1. PreambleExtractor ‚ùå

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/preamble-handler.md`

**–°—Ç–∞—Ç—É—Å:** ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

**–ü–ª–∞–Ω:**
- –°–æ–∑–¥–∞—Ç—å `markdown_chunker/parser/preamble.py`
- –ö–ª–∞—Å—Å `PreambleExtractor`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `ContentAnalyzer`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `MarkdownChunker`
- 20+ —Ç–µ—Å—Ç–æ–≤

**–ó–∞–¥–∞—á–∞:** 2 (Preamble Extraction)

---

### 8.2. StreamingProcessor ‚ö†Ô∏è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `docs/markdown-extractor/04-components/streaming-processor.md` (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)

**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è Stage 3)

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –ü–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω—É–∂–Ω–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ >10 –ú–ë
- –î–ª—è Dify –ø–ª–∞–≥–∏–Ω–∞ –æ–±—ã—á–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–æ–∫—É–º–µ–Ω—Ç—ã <10 –ú–ë
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ "–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è MVP"

---

## 9. –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –∏ –£—Ç–æ—á–Ω–µ–Ω–∏—è

### 9.1. –ü–æ—Ä–æ–≥–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

**–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|----------|--------------|------------|--------|
| CODE_RATIO_THRESHOLD | 0.7 | ? | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å |
| MIN_CODE_BLOCKS | 3 | ? | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å |
| LIST_COUNT_THRESHOLD | 5 | ? | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å |
| TABLE_COUNT_THRESHOLD | 3 | ? | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å |
| enable_overlap (default) | True | ? | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å |

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

---

### 9.2. Overlap –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** Overlap –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å `ChunkConfig`

**–î–µ–π—Å—Ç–≤–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `enable_overlap` –≤ `ChunkConfig.__init__()`

---

## 10. –°–≤–æ–¥–Ω–∞—è –¢–∞–±–ª–∏—Ü–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –†–µ–∞–ª–∏–∑–∞—Ü–∏—è | –¢–µ—Å—Ç—ã | –°—Ç–∞—Ç—É—Å |
|-----------|--------------|------------|-------|--------|
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** |
| Extractor | ‚úÖ | ‚úÖ MarkdownChunker | ‚úÖ 20+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| ContentAnalyzer | ‚úÖ | ‚úÖ ContentAnalyzer | ‚úÖ 15+ | ‚ö†Ô∏è –ë–µ–∑ preamble |
| StrategySelector | ‚úÖ | ‚úÖ StrategySelector | ‚úÖ 30+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| **–°—Ç—Ä–∞—Ç–µ–≥–∏–∏** |
| CodeStrategy | ‚úÖ | ‚úÖ CodeStrategy | ‚úÖ 25 | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥–∏ |
| MixedStrategy | ‚úÖ | ‚úÖ MixedStrategy | ‚úÖ 30+ | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥–∏ |
| ListStrategy | ‚úÖ | ‚úÖ ListStrategy | ‚úÖ 40+ | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥–∏ |
| TableStrategy | ‚úÖ | ‚úÖ TableStrategy | ‚úÖ 30+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| StructuralStrategy | ‚úÖ | ‚úÖ StructuralStrategy | ‚úÖ 30+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| SentencesStrategy | ‚úÖ | ‚úÖ SentencesStrategy | ‚úÖ 20+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** |
| PreambleHandler | ‚úÖ | ‚ùå –ù–ï–¢ | ‚ùå –ù–ï–¢ | ‚ùå –ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û |
| OverlapProcessor | ‚úÖ | ‚úÖ OverlapManager | ‚úÖ 30+ | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| FallbackManager | ‚úÖ | ‚úÖ FallbackManager | ‚úÖ 25 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| MetadataEnricher | ‚úÖ | ‚úÖ MetadataEnricher | ‚úÖ 20 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| **–ü–∞—Ä—Å–∏–Ω–≥** |
| Fenced Blocks | ‚úÖ | ‚úÖ FencedBlockExtractor | ‚úÖ 32 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| AST Building | ‚úÖ | ‚úÖ ASTBuilder | ‚úÖ 30 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| Element Detection | ‚úÖ | ‚úÖ ElementDetector | ‚úÖ 15 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| **–°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** |
| Chunk | ‚úÖ | ‚úÖ Chunk | ‚úÖ 10 | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é |
| ChunkConfig | ‚úÖ | ‚úÖ ChunkConfig | ‚úÖ 15 | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å defaults |
| ContentAnalysis | ‚úÖ | ‚úÖ ContentAnalysis | ‚úÖ 5 | ‚ö†Ô∏è –ë–µ–∑ preamble |

---

## 11. –ò—Ç–æ–≥–æ–≤–∞—è –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 17/20 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (85%)  
**–ü–æ–ª–Ω–æ—Å—Ç—å—é:** 14/20 (70%)  
**–ß–∞—Å—Ç–∏—á–Ω–æ:** 3/20 (15%)  
**–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** 3/20 (15%)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå PreambleExtractor –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
2. ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä–æ–≥–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
3. ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å defaults –≤ ChunkConfig

**–ù–µ–∫—Ä–∏—Ç–∏—á–Ω—ã–µ:**
4. ‚ö†Ô∏è StreamingProcessor –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–Ω–µ –Ω—É–∂–µ–Ω –¥–ª—è MVP)

---

## 12. –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ ‚è≥ NEXT
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `CODE_RATIO_THRESHOLD` –≤ `code_strategy.py`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `LIST_COUNT_THRESHOLD` –≤ `list_strategy.py`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `enable_overlap` –≤ `ChunkConfig`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å mapping —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –≤ –∫–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã
- [ ] –§–æ—Ä–º–∞—Ç: `# Algorithm: docs/markdown-extractor/path/to/section.md`

### –®–∞–≥ 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è PreambleExtractor
- [ ] –°–º. –ó–∞–¥–∞—á—É 2 –≤ tasks.md

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-16  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-11-16  
**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (–®–∞–≥ 1 —Å–ª–µ–¥—É—é—â–∏–π)
