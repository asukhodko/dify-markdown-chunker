{
  "fixture_name": "table_grouping",
  "parameters": {
    "include_metadata": true,
    "chunk_overlap": 500,
    "max_chunk_size": 2000
  },
  "config_used": {
    "max_chunk_size": 2000,
    "min_chunk_size": 512,
    "overlap_size": 500,
    "preserve_atomic_blocks": true,
    "extract_preamble": true,
    "code_threshold": 0.3,
    "structure_threshold": 3,
    "list_ratio_threshold": 0.4,
    "list_count_threshold": 5,
    "strategy_override": null,
    "enable_code_context_binding": true,
    "max_context_chars_before": 500,
    "max_context_chars_after": 300,
    "related_block_max_gap": 5,
    "bind_output_blocks": true,
    "preserve_before_after_pairs": true,
    "enable_overlap": true
  },
  "output": [
    "<metadata>\n{\n  \"strategy\": \"code_aware\",\n  \"content_type\": \"table\",\n  \"is_atomic\": true,\n  \"next_content\": \"\\n## Conclusion\\n\\nRelated\",\n  \"chunk_index\": 0,\n  \"header_path\": [],\n  \"start_line\": 1,\n  \"end_line\": 87\n}\n</metadata>\n# Table Grouping Document\n\nThis document tests table grouping scenarios where related tables should be kept together.\n\n## Database Schema\n\n### Users Table\n\n\n| Column | Type | Constraints |\n|--------|------|-------------|\n| id | INTEGER | PRIMARY KEY |\n| username | VARCHAR(50) | NOT NULL, UNIQUE |\n| email | VARCHAR(100) | NOT NULL |\n| created_at | TIMESTAMP | DEFAULT NOW() |\n\n\n### Posts Table\n\n\n| Column | Type | Constraints |\n|--------|------|-------------|\n| id | INTEGER | PRIMARY KEY |\n| user_id | INTEGER | FOREIGN KEY (users.id) |\n| title | VARCHAR(200) | NOT NULL |\n| content | TEXT | |\n| published | BOOLEAN | DEFAULT FALSE |\n\n\n### Comments Table\n\n\n| Column | Type | Constraints |\n|--------|------|-------------|\n| id | INTEGER | PRIMARY KEY |\n| post_id | INTEGER | FOREIGN KEY (posts.id) |\n| user_id | INTEGER | FOREIGN KEY (users.id) |\n| body | TEXT | NOT NULL |\n\n\n## API Endpoints\n\n### GET Endpoints\n\n\n| Endpoint | Description | Auth |\n|----------|-------------|------|\n| /users | List all users | No |\n| /users/:id | Get user by ID | No |\n| /posts | List all posts | No |\n| /posts/:id | Get post by ID | No |\n\n\n### POST Endpoints\n\n\n| Endpoint | Description | Auth |\n|----------|-------------|------|\n| /users | Create user | No |\n| /posts | Create post | Yes |\n| /comments | Add comment | Yes |\n\n\n### DELETE Endpoints\n\n\n| Endpoint | Description | Auth |\n|----------|-------------|------|\n| /users/:id | Delete user | Admin |\n| /posts/:id | Delete post | Owner |\n| /comments/:id | Delete comment | Owner |\n\n\n## Comparison Tables\n\n### Before Migration\n\n\n| Metric | Value |\n|--------|-------|\n| Response Time | 500ms |\n| Throughput | 100 req/s |\n| Error Rate | 5% |\n\n\n### After Migration\n\n\n| Metric | Value |\n|--------|-------|\n| Response Time | 50ms |\n| Throughput | 1000 req/s |\n| Error Rate | 0.1% |\n\n\n## Isolated Table\n\nThis table stands alone and should not be grouped:\n\n\n| Setting | Value |\n|---------|-------|\n| Debug | false |\n| Timeout | 30s |",
    "<metadata>\n{\n  \"strategy\": \"code_aware\",\n  \"small_chunk\": true,\n  \"small_chunk_reason\": \"cannot_merge\",\n  \"previous_content\": \"| Owner |\\n| /comments/:id | Delete comment | Owner |\\n\\n\\n## Comparison Tables\\n\\n### Before Migration\\n\\n\\n| Metric | Value |\\n|--------|-------|\\n| Response Time | 500ms |\\n| Throughput | 100 req/s |\\n| Error Rate | 5% |\\n\\n\\n### After Migration\\n\\n\\n| Metric | Value |\\n|--------|-------|\\n| Response Time | 50ms |\\n| Throughput | 1000 req/s |\\n| Error Rate | 0.1% |\\n\\n\\n## Isolated Table\\n\\nThis table stands alone and should not be grouped:\\n\\n\\n| Setting | Value |\\n|---------|-------|\\n| Debug | false |\\n| Timeout | 30s |\",\n  \"overlap_size\": 497,\n  \"chunk_index\": 1,\n  \"content_type\": \"text\",\n  \"header_path\": [],\n  \"start_line\": 88,\n  \"end_line\": 92\n}\n</metadata>\n\n## Conclusion\n\nRelated tables within the same section should be grouped together.\n"
  ],
  "snapshot_id": "711de8b1"
}